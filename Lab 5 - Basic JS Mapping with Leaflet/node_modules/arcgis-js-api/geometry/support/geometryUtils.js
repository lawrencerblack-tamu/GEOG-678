/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../geometry","./scaleUtils","../Extent"],(function(e,t,n,r){"use strict";function a(e){switch(e?.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return e.extent?.center;default:return null}}async function o(e,t){if(e.hasZ||"2d"===t.type)return e;const n=t.map?.ground;if(!n?.layers.length)return e;const{geometry:r}=await n.queryElevation(e,{cache:t.basemapTerrain?.elevationQueryCache});return r}function c(e,t,n){return u(e.center,t,n)}function i(e,t,n){switch(e?.type){case"extent":return e;case"multipoint":case"polygon":case"polyline":return e.extent;case"point":return u(e,t,n);default:return null}}function u(e,t,a){const o=e.hasZ?e.z:void 0;if(t?.map){return(null!=a?n.getExtentForScale(t,a):t.extent).clone().centerAt(e).set({zmax:o,zmin:o})}const{x:c,y:i,spatialReference:u}=e;return new r({xmin:c-.25,ymin:i-.25,xmax:c+.25,ymax:i+.25,spatialReference:u,zmin:o,zmax:o})}e.createExtentFromGeometry=i,e.createExtentFromPoint=u,e.getPointFromGeometry=a,e.getPointWithElevation=o,e.scaleExtent=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
