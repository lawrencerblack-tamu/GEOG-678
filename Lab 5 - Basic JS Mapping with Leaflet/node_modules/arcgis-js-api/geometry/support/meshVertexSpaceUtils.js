/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../core/deprecate","../../core/Logger","../Point","./MeshGeoreferencedVertexSpace","./MeshLocalVertexSpace","../../chunks/vec3"],(function(e,r,t,n,i,o,c){"use strict";function a(){return t.getLogger("esri.geometry.Mesh")}function s(e){const{vertexSpace:r}=e;if(null!=r.origin)return e.clone();const{anchor:t}=e,n=t.clone(),o=new i({origin:[n.x,n.y,n.z]}),a=e.cloneWithVertexSpace(o),{position:s}=a.vertexAttributes;return a.vertexAttributes.position=c.translate(new Float64Array(s.length),s,[-n.x,-n.y,-(n.z??0)]),a.vertexAttributesChanged(),a}function g(e,r){switch(e.type){case"georeferenced":return p(e)&&!r.isGeographic&&!r.isWebMercator;case"local":return r.isGeographic||r.isWebMercator}}function p(e){return null!=e.origin}function u(e){return p(e.vertexSpace)}function l(e,r){if(!p(e))return null;const[t,i,o]=e.origin;return new n({x:t,y:i,z:o,spatialReference:r})}function f(e,t){const{x:n,y:c,z:s,spatialReference:g}=e,p=[n,c,s??0];if(void 0!==t?.geographic){if(r.deprecated(a(),"option: geographic",{replacement:"use vertexSpace option instead",version:"4.29",warnOnce:!0}),!t?.vertexSpace)return t?.geographic?new o({origin:p}):new i({origin:p});a().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")}if(!t?.vertexSpace)return g.isGeographic||g.isWebMercator?new o({origin:p}):new i({origin:p});switch(t.vertexSpace){case"local":return new o({origin:p});case"georeferenced":return new i({origin:p});case"georeferenced-absolute":return new i}}function x(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}function h(e,r){return"local"===e?new o({origin:r}):new i({origin:r})}e.createVertexSpace=h,e.getMeshLogger=a,e.isMeshWithRelativeVertexSpace=u,e.isRelativeVertexSpace=p,e.preferredVertexSpaceTypeForSR=x,e.selectVertexSpace=f,e.shouldUpdateFast=g,e.toRelativeVertexSpace=s,e.vertexSpaceOriginToPoint=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
