/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../core/arrayUtils","../../core/ObjectStack","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64","./vectorStacks"],(function(t,i,n,r,o,e){"use strict";function c(t){return t?u(o.clone(t.origin),o.clone(t.direction)):u(o.create(),o.create())}function u(t,i){return{origin:t,direction:i}}function s(t,n){return i.equals(t.origin,n.origin)&&i.equals(t.direction,n.direction)}function a(t,i){const n=p.get();return n.origin=t,n.direction=i,n}function d(t,i=c()){return f(t.origin,t.direction,i)}function g(t,i,n=c()){return r.copy(n.origin,t),r.subtract(n.direction,i,t),n}function f(t,i,n=c()){return r.copy(n.origin,t),r.copy(n.direction,i),n}function l(t,i){const n=r.cross(e.sv3d.get(),r.normalize(e.sv3d.get(),t.direction),r.subtract(e.sv3d.get(),i,t.origin));return r.dot(n,n)}function b(t,i,n){const o=r.dot(t.direction,r.subtract(n,i,t.origin));return r.add(n,t.origin,r.scale(n,t.direction,o)),n}const p=new n.ObjectStack((()=>c()));t.closestPoint=b,t.copy=d,t.create=c,t.distance2=l,t.equals=s,t.fromPoints=g,t.fromValues=f,t.wrap=a,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
