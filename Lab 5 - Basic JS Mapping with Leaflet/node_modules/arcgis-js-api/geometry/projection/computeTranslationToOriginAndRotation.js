/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../core/mathUtils","../../core/libs/gl-matrix-2/math/mat4","../../core/libs/gl-matrix-2/factories/vec3f64","./localRotationUtils","./projectors","../support/spatialReferenceUtils"],(function(o,e,t,i,n,r,c){"use strict";function a(o,e,i,a){if(null==o||null==a)return!1;const j=r.classifySpatialReference(o,r.sourceClassificationCache),E=r.classifySpatialReference(a,r.destClassificationCache);if(j===E&&!l(E)&&(j!==r.ProjectionID.UNKNOWN||c.equals(o,a)))return t.fromTranslation(i,e),!0;if(l(E)){const o=r.projectionTable[j][r.ProjectionID.LON_LAT],t=r.projectionTable[r.ProjectionID.LON_LAT][E];return null!=o&&null!=t&&(o(e,0,s,0),t(s,0,u,0),n.computeENUToSphericalPCPFLocalRotation(P*s[0],P*s[1],i),i[12]=u[0],i[13]=u[1],i[14]=u[2],!0)}if((E===r.ProjectionID.WEB_MERCATOR||E===r.ProjectionID.PLATE_CARREE||E===r.ProjectionID.WGS84)&&(j===r.ProjectionID.WGS84||j===r.ProjectionID.CGCS2000&&E===r.ProjectionID.PLATE_CARREE||j===r.ProjectionID.SPHERICAL_ECEF||j===r.ProjectionID.WEB_MERCATOR)){const o=r.projectionTable[j][r.ProjectionID.LON_LAT],c=r.projectionTable[r.ProjectionID.LON_LAT][E];return null!=o&&null!=c&&(o(e,0,s,0),c(s,0,u,0),j===r.ProjectionID.SPHERICAL_ECEF?n.computeSphericalPCPFToENULocalRotation(P*s[0],P*s[1],i):t.identity(i),i[12]=u[0],i[13]=u[1],i[14]=u[2],!0)}return!1}function l(o){return o===r.ProjectionID.SPHERICAL_ECEF||o===r.ProjectionID.SPHERICAL_MARS_PCPF||o===r.ProjectionID.SPHERICAL_MOON_PCPF}const P=e.deg2rad(1),s=i.create(),u=i.create();o.computeTranslationToOriginAndRotation=a,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));
