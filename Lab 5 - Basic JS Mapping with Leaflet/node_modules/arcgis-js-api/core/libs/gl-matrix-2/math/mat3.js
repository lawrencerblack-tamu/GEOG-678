/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","./common"],(function(t,n){"use strict";function a(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function r(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function o(t,n,a,r,o,u,e,s,c,i){return t[0]=n,t[1]=a,t[2]=r,t[3]=o,t[4]=u,t[5]=e,t[6]=s,t[7]=c,t[8]=i,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function e(t,n){if(t===n){const a=n[1],r=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=a,t[5]=n[7],t[6]=r,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function s(t,n){const a=n[0],r=n[1],o=n[2],u=n[3],e=n[4],s=n[5],c=n[6],i=n[7],l=n[8],M=l*e-s*i,f=-l*u+s*c,m=i*u-e*c;let h=a*M+r*f+o*m;return h?(h=1/h,t[0]=M*h,t[1]=(-l*r+o*i)*h,t[2]=(s*r-o*e)*h,t[3]=f*h,t[4]=(l*a-o*c)*h,t[5]=(-s*a+o*u)*h,t[6]=m*h,t[7]=(-i*a+r*c)*h,t[8]=(e*a-r*u)*h,t):null}function c(t,n){const a=n[0],r=n[1],o=n[2],u=n[3],e=n[4],s=n[5],c=n[6],i=n[7],l=n[8];return t[0]=e*l-s*i,t[1]=o*i-r*l,t[2]=r*s-o*e,t[3]=s*c-u*l,t[4]=a*l-o*c,t[5]=o*u-a*s,t[6]=u*i-e*c,t[7]=r*c-a*i,t[8]=a*e-r*u,t}function i(t){const n=t[0],a=t[1],r=t[2],o=t[3],u=t[4],e=t[5],s=t[6],c=t[7],i=t[8];return n*(i*u-e*c)+a*(-i*o+e*s)+r*(c*o-u*s)}function l(t,n,a){const r=n[0],o=n[1],u=n[2],e=n[3],s=n[4],c=n[5],i=n[6],l=n[7],M=n[8],f=a[0],m=a[1],h=a[2],b=a[3],d=a[4],p=a[5],y=a[6],x=a[7],g=a[8];return t[0]=f*r+m*e+h*i,t[1]=f*o+m*s+h*l,t[2]=f*u+m*c+h*M,t[3]=b*r+d*e+p*i,t[4]=b*o+d*s+p*l,t[5]=b*u+d*c+p*M,t[6]=y*r+x*e+g*i,t[7]=y*o+x*s+g*l,t[8]=y*u+x*c+g*M,t}function M(t,n,a){const r=n[0],o=n[1],u=n[2],e=n[3],s=n[4],c=n[5],i=n[6],l=n[7],M=n[8],f=a[0],m=a[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=e,t[4]=s,t[5]=c,t[6]=f*r+m*e+i,t[7]=f*o+m*s+l,t[8]=f*u+m*c+M,t}function f(t,n,a){const r=n[0],o=n[1],u=n[2],e=n[3],s=n[4],c=n[5],i=n[6],l=n[7],M=n[8],f=Math.sin(a),m=Math.cos(a);return t[0]=m*r+f*e,t[1]=m*o+f*s,t[2]=m*u+f*c,t[3]=m*e-f*r,t[4]=m*s-f*o,t[5]=m*c-f*u,t[6]=i,t[7]=l,t[8]=M,t}function m(t,n,a){const r=a[0],o=a[1],u=a[2];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=u*n[6],t[7]=u*n[7],t[8]=u*n[8],t}function h(t,n,a){const r=a[0],o=a[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t}function b(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function d(t,n){const a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=0,t[3]=-a,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function p(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function y(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function x(t,n){const a=n[0],r=n[1],o=n[2],u=n[3],e=a+a,s=r+r,c=o+o,i=a*e,l=r*e,M=r*s,f=o*e,m=o*s,h=o*c,b=u*e,d=u*s,p=u*c;return t[0]=1-M-h,t[3]=l-p,t[6]=f+d,t[1]=l+p,t[4]=1-i-h,t[7]=m-b,t[2]=f-d,t[5]=m+b,t[8]=1-i-M,t}function g(t,n){const a=n[0],r=n[1],o=n[2],u=n[4],e=n[5],s=n[6],c=n[8],i=n[9],l=n[10],M=l*e-s*i,f=-l*u+s*c,m=i*u-e*c,h=a*M+r*f+o*m;if(!h)return null;const b=1/h;return t[0]=M*b,t[1]=(-l*r+o*i)*b,t[2]=(s*r-o*e)*b,t[3]=f*b,t[4]=(l*a-o*c)*b,t[5]=(-s*a+o*u)*b,t[6]=m*b,t[7]=(-i*a+r*c)*b,t[8]=(e*a-r*u)*b,t}function S(t,n){const a=n[0],r=n[1],o=n[2],u=n[3],e=n[4],s=n[5],c=n[6],i=n[7],l=n[8],M=n[9],f=n[10],m=n[11],h=n[12],b=n[13],d=n[14],p=n[15],y=a*s-r*e,x=a*c-o*e,g=a*i-u*e,S=r*c-o*s,j=r*i-u*s,q=o*i-u*c,O=l*b-M*h,v=l*d-f*h,A=l*p-m*h,E=M*d-f*b,F=M*p-m*b,T=f*p-m*d;let _=y*T-x*F+g*E+S*A-j*v+q*O;return _?(_=1/_,t[0]=(s*T-c*F+i*E)*_,t[1]=(c*A-e*T-i*v)*_,t[2]=(e*F-s*A+i*O)*_,t[3]=(o*F-r*T-u*E)*_,t[4]=(a*T-o*A+u*v)*_,t[5]=(r*A-a*F-u*O)*_,t[6]=(b*q-d*j+p*S)*_,t[7]=(d*g-h*q-p*x)*_,t[8]=(h*j-b*g+p*y)*_,t):null}function j(t,n,a){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function q(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function O(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function v(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t[6]=n[6]+a[6],t[7]=n[7]+a[7],t[8]=n[8]+a[8],t}function A(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t[6]=n[6]-a[6],t[7]=n[7]-a[7],t[8]=n[8]-a[8],t}function E(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*a,t}function F(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t[4]=n[4]+a[4]*r,t[5]=n[5]+a[5]*r,t[6]=n[6]+a[6]*r,t[7]=n[7]+a[7]*r,t[8]=n[8]+a[8]*r,t}function T(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function _(t,a){const r=t[0],o=t[1],u=t[2],e=t[3],s=t[4],c=t[5],i=t[6],l=t[7],M=t[8],f=a[0],m=a[1],h=a[2],b=a[3],d=a[4],p=a[5],y=a[6],x=a[7],g=a[8],S=n.getEpsilon();return Math.abs(r-f)<=S*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-m)<=S*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-h)<=S*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(e-b)<=S*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(s-d)<=S*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(c-p)<=S*Math.max(1,Math.abs(c),Math.abs(p))&&Math.abs(i-y)<=S*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(l-x)<=S*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(M-g)<=S*Math.max(1,Math.abs(M),Math.abs(g))}function B(t){const a=n.getEpsilon(),r=t[0],o=t[1],u=t[2],e=t[3],s=t[4],c=t[5],i=t[6],l=t[7],M=t[8];return Math.abs(1-(r*r+e*e+i*i))<=a&&Math.abs(1-(o*o+s*s+l*l))<=a&&Math.abs(1-(u*u+c*c+M*M))<=a}const L=l,N=A,P=Object.freeze(Object.defineProperty({__proto__:null,add:v,adjoint:c,copy:r,determinant:i,equals:_,exactEquals:T,frob:O,fromMat2d:y,fromMat4:a,fromQuat:x,fromRotation:d,fromScaling:p,fromTranslation:b,identity:u,invert:s,isOrthoNormal:B,mul:L,multiply:l,multiplyScalar:E,multiplyScalarAndAdd:F,normalFromMat4:S,normalFromMat4Legacy:g,projection:j,rotate:f,scale:m,scaleByVec2:h,set:o,str:q,sub:N,subtract:A,translate:M,transpose:e},Symbol.toStringTag,{value:"Module"}));t.add=v,t.adjoint=c,t.copy=r,t.determinant=i,t.equals=_,t.exactEquals=T,t.frob=O,t.fromMat2d=y,t.fromMat4=a,t.fromQuat=x,t.fromRotation=d,t.fromScaling=p,t.fromTranslation=b,t.identity=u,t.invert=s,t.isOrthoNormal=B,t.mat3=P,t.mul=L,t.multiply=l,t.multiplyScalar=E,t.multiplyScalarAndAdd=F,t.normalFromMat4=S,t.normalFromMat4Legacy=g,t.projection=j,t.rotate=f,t.scale=m,t.scaleByVec2=h,t.set=o,t.str=q,t.sub=N,t.subtract=A,t.translate=M,t.transpose=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
