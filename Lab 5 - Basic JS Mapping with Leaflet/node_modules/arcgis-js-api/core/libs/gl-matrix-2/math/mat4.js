/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../factories/vec3f64","./common"],(function(t,a,n){"use strict";function o(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function r(t,a,n,o,r,s,e,i,u,c,h,M,f,l,b,m,d){return t[0]=a,t[1]=n,t[2]=o,t[3]=r,t[4]=s,t[5]=e,t[6]=i,t[7]=u,t[8]=c,t[9]=h,t[10]=M,t[11]=f,t[12]=l,t[13]=b,t[14]=m,t[15]=d,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function e(t,a){if(t===a){const n=a[1],o=a[2],r=a[3],s=a[6],e=a[7],i=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=n,t[6]=a[9],t[7]=a[13],t[8]=o,t[9]=s,t[11]=a[14],t[12]=r,t[13]=e,t[14]=i}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}function i(t,a){return u(t,a)||s(t),t}function u(t,a){const n=a[0],o=a[1],r=a[2],s=a[3],e=a[4],i=a[5],u=a[6],c=a[7],h=a[8],M=a[9],f=a[10],l=a[11],b=a[12],m=a[13],d=a[14],g=a[15],p=n*i-o*e,q=n*u-r*e,x=n*c-s*e,y=o*u-r*i,R=o*c-s*i,S=r*c-s*u,T=h*m-M*b,v=h*d-f*b,O=h*g-l*b,I=M*d-f*m,E=M*g-l*m,A=f*g-l*d;let P=p*A-q*E+x*I+y*O-R*v+S*T;return P?(P=1/P,t[0]=(i*A-u*E+c*I)*P,t[1]=(r*E-o*A-s*I)*P,t[2]=(m*S-d*R+g*y)*P,t[3]=(f*R-M*S-l*y)*P,t[4]=(u*O-e*A-c*v)*P,t[5]=(n*A-r*O+s*v)*P,t[6]=(d*x-b*S-g*q)*P,t[7]=(h*S-f*x+l*q)*P,t[8]=(e*E-i*O+c*T)*P,t[9]=(o*O-n*E-s*T)*P,t[10]=(b*R-m*x+g*p)*P,t[11]=(M*x-h*R-l*p)*P,t[12]=(i*v-e*I-u*T)*P,t[13]=(n*I-o*v+r*T)*P,t[14]=(m*q-b*y-d*p)*P,t[15]=(h*y-M*q+f*p)*P,t):null}function c(t,a){const n=a[0],o=a[1],r=a[2],s=a[3],e=a[4],i=a[5],u=a[6],c=a[7],h=a[8],M=a[9],f=a[10],l=a[11],b=a[12],m=a[13],d=a[14],g=a[15];return t[0]=i*(f*g-l*d)-M*(u*g-c*d)+m*(u*l-c*f),t[1]=-(o*(f*g-l*d)-M*(r*g-s*d)+m*(r*l-s*f)),t[2]=o*(u*g-c*d)-i*(r*g-s*d)+m*(r*c-s*u),t[3]=-(o*(u*l-c*f)-i*(r*l-s*f)+M*(r*c-s*u)),t[4]=-(e*(f*g-l*d)-h*(u*g-c*d)+b*(u*l-c*f)),t[5]=n*(f*g-l*d)-h*(r*g-s*d)+b*(r*l-s*f),t[6]=-(n*(u*g-c*d)-e*(r*g-s*d)+b*(r*c-s*u)),t[7]=n*(u*l-c*f)-e*(r*l-s*f)+h*(r*c-s*u),t[8]=e*(M*g-l*m)-h*(i*g-c*m)+b*(i*l-c*M),t[9]=-(n*(M*g-l*m)-h*(o*g-s*m)+b*(o*l-s*M)),t[10]=n*(i*g-c*m)-e*(o*g-s*m)+b*(o*c-s*i),t[11]=-(n*(i*l-c*M)-e*(o*l-s*M)+h*(o*c-s*i)),t[12]=-(e*(M*d-f*m)-h*(i*d-u*m)+b*(i*f-u*M)),t[13]=n*(M*d-f*m)-h*(o*d-r*m)+b*(o*f-r*M),t[14]=-(n*(i*d-u*m)-e*(o*d-r*m)+b*(o*u-r*i)),t[15]=n*(i*f-u*M)-e*(o*f-r*M)+h*(o*u-r*i),t}function h(t){const a=t[0],n=t[1],o=t[2],r=t[3],s=t[4],e=t[5],i=t[6],u=t[7],c=t[8],h=t[9],M=t[10],f=t[11],l=t[12],b=t[13],m=t[14],d=t[15];return(a*e-n*s)*(M*d-f*m)-(a*i-o*s)*(h*d-f*b)+(a*u-r*s)*(h*m-M*b)+(n*i-o*e)*(c*d-f*l)-(n*u-r*e)*(c*m-M*l)+(o*u-r*i)*(c*b-h*l)}function M(t,a,n){const o=a[0],r=a[1],s=a[2],e=a[3],i=a[4],u=a[5],c=a[6],h=a[7],M=a[8],f=a[9],l=a[10],b=a[11],m=a[12],d=a[13],g=a[14],p=a[15];let q=n[0],x=n[1],y=n[2],R=n[3];return t[0]=q*o+x*i+y*M+R*m,t[1]=q*r+x*u+y*f+R*d,t[2]=q*s+x*c+y*l+R*g,t[3]=q*e+x*h+y*b+R*p,q=n[4],x=n[5],y=n[6],R=n[7],t[4]=q*o+x*i+y*M+R*m,t[5]=q*r+x*u+y*f+R*d,t[6]=q*s+x*c+y*l+R*g,t[7]=q*e+x*h+y*b+R*p,q=n[8],x=n[9],y=n[10],R=n[11],t[8]=q*o+x*i+y*M+R*m,t[9]=q*r+x*u+y*f+R*d,t[10]=q*s+x*c+y*l+R*g,t[11]=q*e+x*h+y*b+R*p,q=n[12],x=n[13],y=n[14],R=n[15],t[12]=q*o+x*i+y*M+R*m,t[13]=q*r+x*u+y*f+R*d,t[14]=q*s+x*c+y*l+R*g,t[15]=q*e+x*h+y*b+R*p,t}function f(t,a,n){const o=n[0],r=n[1],s=n[2];if(a===t)t[12]=a[0]*o+a[4]*r+a[8]*s+a[12],t[13]=a[1]*o+a[5]*r+a[9]*s+a[13],t[14]=a[2]*o+a[6]*r+a[10]*s+a[14],t[15]=a[3]*o+a[7]*r+a[11]*s+a[15];else{const n=a[0],e=a[1],i=a[2],u=a[3],c=a[4],h=a[5],M=a[6],f=a[7],l=a[8],b=a[9],m=a[10],d=a[11];t[0]=n,t[1]=e,t[2]=i,t[3]=u,t[4]=c,t[5]=h,t[6]=M,t[7]=f,t[8]=l,t[9]=b,t[10]=m,t[11]=d,t[12]=n*o+c*r+l*s+a[12],t[13]=e*o+h*r+b*s+a[13],t[14]=i*o+M*r+m*s+a[14],t[15]=u*o+f*r+d*s+a[15]}return t}function l(t,a,n){const o=n[0],r=n[1],s=n[2];return t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o,t[3]=a[3]*o,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*s,t[9]=a[9]*s,t[10]=a[10]*s,t[11]=a[11]*s,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function b(t,a,o,r){let s,e,i,u,c,h,M,f,l,b,m,d,g,p,q,x,y,R,S,T,v,O,I,E,A=r[0],P=r[1],j=r[2],D=Math.sqrt(A*A+P*P+j*j);return D<n.getEpsilon()?null:(D=1/D,A*=D,P*=D,j*=D,s=Math.sin(o),e=Math.cos(o),i=1-e,u=a[0],c=a[1],h=a[2],M=a[3],f=a[4],l=a[5],b=a[6],m=a[7],d=a[8],g=a[9],p=a[10],q=a[11],x=A*A*i+e,y=P*A*i+j*s,R=j*A*i-P*s,S=A*P*i-j*s,T=P*P*i+e,v=j*P*i+A*s,O=A*j*i+P*s,I=P*j*i-A*s,E=j*j*i+e,t[0]=u*x+f*y+d*R,t[1]=c*x+l*y+g*R,t[2]=h*x+b*y+p*R,t[3]=M*x+m*y+q*R,t[4]=u*S+f*T+d*v,t[5]=c*S+l*T+g*v,t[6]=h*S+b*T+p*v,t[7]=M*S+m*T+q*v,t[8]=u*O+f*I+d*E,t[9]=c*O+l*I+g*E,t[10]=h*O+b*I+p*E,t[11]=M*O+m*I+q*E,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)}function m(t,a,n){const o=Math.sin(n),r=Math.cos(n),s=a[4],e=a[5],i=a[6],u=a[7],c=a[8],h=a[9],M=a[10],f=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=s*r+c*o,t[5]=e*r+h*o,t[6]=i*r+M*o,t[7]=u*r+f*o,t[8]=c*r-s*o,t[9]=h*r-e*o,t[10]=M*r-i*o,t[11]=f*r-u*o,t}function d(t,a,n){const o=Math.sin(n),r=Math.cos(n),s=a[0],e=a[1],i=a[2],u=a[3],c=a[8],h=a[9],M=a[10],f=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=s*r-c*o,t[1]=e*r-h*o,t[2]=i*r-M*o,t[3]=u*r-f*o,t[8]=s*o+c*r,t[9]=e*o+h*r,t[10]=i*o+M*r,t[11]=u*o+f*r,t}function g(t,a,n){const o=Math.sin(n),r=Math.cos(n),s=a[0],e=a[1],i=a[2],u=a[3],c=a[4],h=a[5],M=a[6],f=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=s*r+c*o,t[1]=e*r+h*o,t[2]=i*r+M*o,t[3]=u*r+f*o,t[4]=c*r-s*o,t[5]=h*r-e*o,t[6]=M*r-i*o,t[7]=f*r-u*o,t}function p(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function q(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,a,o){if(0===a)return s(t);let r,e,i,u=o[0],c=o[1],h=o[2],M=Math.sqrt(u*u+c*c+h*h);return M<n.getEpsilon()?null:(M=1/M,u*=M,c*=M,h*=M,r=Math.sin(a),e=Math.cos(a),i=1-e,t[0]=u*u*i+e,t[1]=c*u*i+h*r,t[2]=h*u*i-c*r,t[3]=0,t[4]=u*c*i-h*r,t[5]=c*c*i+e,t[6]=h*c*i+u*r,t[7]=0,t[8]=u*h*i+c*r,t[9]=c*h*i-u*r,t[10]=h*h*i+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function y(t,a){const n=Math.sin(a),o=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,a){const n=Math.sin(a),o=Math.cos(a);return t[0]=o,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,a){const n=Math.sin(a),o=Math.cos(a);return t[0]=o,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,a,n){const o=a[0],r=a[1],s=a[2],e=a[3],i=o+o,u=r+r,c=s+s,h=o*i,M=o*u,f=o*c,l=r*u,b=r*c,m=s*c,d=e*i,g=e*u,p=e*c;return t[0]=1-(l+m),t[1]=M+p,t[2]=f-g,t[3]=0,t[4]=M-p,t[5]=1-(h+m),t[6]=b+d,t[7]=0,t[8]=f+g,t[9]=b-d,t[10]=1-(h+l),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function v(t,a){const n=O,o=-a[0],r=-a[1],s=-a[2],e=a[3],i=a[4],u=a[5],c=a[6],h=a[7],M=o*o+r*r+s*s+e*e;return M>0?(n[0]=2*(i*e+h*o+u*s-c*r)/M,n[1]=2*(u*e+h*r+c*o-i*s)/M,n[2]=2*(c*e+h*s+i*r-u*o)/M):(n[0]=2*(i*e+h*o+u*s-c*r),n[1]=2*(u*e+h*r+c*o-i*s),n[2]=2*(c*e+h*s+i*r-u*o)),T(t,a,n),t}const O=a.create();function I(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t}function E(t,a){const n=a[0],o=a[1],r=a[2],s=a[4],e=a[5],i=a[6],u=a[8],c=a[9],h=a[10];return t[0]=Math.sqrt(n*n+o*o+r*r),t[1]=Math.sqrt(s*s+e*e+i*i),t[2]=Math.sqrt(u*u+c*c+h*h),t}function A(t,a){const n=a[0]+a[5]+a[10];let o=0;return n>0?(o=2*Math.sqrt(n+1),t[3]=.25*o,t[0]=(a[6]-a[9])/o,t[1]=(a[8]-a[2])/o,t[2]=(a[1]-a[4])/o):a[0]>a[5]&&a[0]>a[10]?(o=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/o,t[0]=.25*o,t[1]=(a[1]+a[4])/o,t[2]=(a[8]+a[2])/o):a[5]>a[10]?(o=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/o,t[0]=(a[1]+a[4])/o,t[1]=.25*o,t[2]=(a[6]+a[9])/o):(o=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/o,t[0]=(a[8]+a[2])/o,t[1]=(a[6]+a[9])/o,t[2]=.25*o),t}function P(t,a,n,o){const r=a[0],s=a[1],e=a[2],i=a[3],u=r+r,c=s+s,h=e+e,M=r*u,f=r*c,l=r*h,b=s*c,m=s*h,d=e*h,g=i*u,p=i*c,q=i*h,x=o[0],y=o[1],R=o[2];return t[0]=(1-(b+d))*x,t[1]=(f+q)*x,t[2]=(l-p)*x,t[3]=0,t[4]=(f-q)*y,t[5]=(1-(M+d))*y,t[6]=(m+g)*y,t[7]=0,t[8]=(l+p)*R,t[9]=(m-g)*R,t[10]=(1-(M+b))*R,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function j(t,a,n,o,r){const s=a[0],e=a[1],i=a[2],u=a[3],c=s+s,h=e+e,M=i+i,f=s*c,l=s*h,b=s*M,m=e*h,d=e*M,g=i*M,p=u*c,q=u*h,x=u*M,y=o[0],R=o[1],S=o[2],T=r[0],v=r[1],O=r[2],I=(1-(m+g))*y,E=(l+x)*y,A=(b-q)*y,P=(l-x)*R,j=(1-(f+g))*R,D=(d+p)*R,F=(b+q)*S,Q=(d-p)*S,X=(1-(f+m))*S;return t[0]=I,t[1]=E,t[2]=A,t[3]=0,t[4]=P,t[5]=j,t[6]=D,t[7]=0,t[8]=F,t[9]=Q,t[10]=X,t[11]=0,t[12]=n[0]+T-(I*T+P*v+F*O),t[13]=n[1]+v-(E*T+j*v+Q*O),t[14]=n[2]+O-(A*T+D*v+X*O),t[15]=1,t}function D(t,a){const n=a[0],o=a[1],r=a[2],s=a[3],e=n+n,i=o+o,u=r+r,c=n*e,h=o*e,M=o*i,f=r*e,l=r*i,b=r*u,m=s*e,d=s*i,g=s*u;return t[0]=1-M-b,t[1]=h+g,t[2]=f-d,t[3]=0,t[4]=h-g,t[5]=1-c-b,t[6]=l+m,t[7]=0,t[8]=f+d,t[9]=l-m,t[10]=1-c-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,a,n,o,r,s,e){const i=1/(n-a),u=1/(r-o),c=1/(s-e);return t[0]=2*s*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*u,t[6]=0,t[7]=0,t[8]=(n+a)*i,t[9]=(r+o)*u,t[10]=(e+s)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=e*s*2*c,t[15]=0,t}function Q(t,a,n,o,r){const s=1/Math.tan(a/2);let e;return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(e=1/(o-r),t[10]=(r+o)*e,t[14]=2*r*o*e):(t[10]=-1,t[14]=-2*o),t}function X(t,a,n,o){const r=Math.tan(a.upDegrees*Math.PI/180),s=Math.tan(a.downDegrees*Math.PI/180),e=Math.tan(a.leftDegrees*Math.PI/180),i=Math.tan(a.rightDegrees*Math.PI/180),u=2/(e+i),c=2/(r+s);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(e-i)*u*.5,t[9]=(r-s)*c*.5,t[10]=o/(n-o),t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n/(n-o),t[15]=0,t}function Y(t,a,n,o,r,s,e){const i=1/(a-n),u=1/(o-r),c=1/(s-e);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(a+n)*i,t[13]=(r+o)*u,t[14]=(e+s)*c,t[15]=1,t}function Z(t,a,o,r){const e=a[0],i=a[1],u=a[2];let c=e-o[0],h=i-o[1],M=u-o[2];const f=n.getEpsilon();if(Math.abs(c)<f&&Math.abs(h)<f&&Math.abs(M)<f)return void s(t);let l=1/Math.sqrt(c*c+h*h+M*M);c*=l,h*=l,M*=l;const b=r[0],m=r[1],d=r[2];let g=m*M-d*h,p=d*c-b*M,q=b*h-m*c;l=Math.sqrt(g*g+p*p+q*q),l?(l=1/l,g*=l,p*=l,q*=l):(g=0,p=0,q=0);let x=h*q-M*p,y=M*g-c*q,R=c*p-h*g;l=Math.sqrt(x*x+y*y+R*R),l?(l=1/l,x*=l,y*=l,R*=l):(x=0,y=0,R=0),t[0]=g,t[1]=x,t[2]=c,t[3]=0,t[4]=p,t[5]=y,t[6]=h,t[7]=0,t[8]=q,t[9]=R,t[10]=M,t[11]=0,t[12]=-(g*e+p*i+q*u),t[13]=-(x*e+y*i+R*u),t[14]=-(c*e+h*i+M*u),t[15]=1}function _(t,a,n,o){const r=a[0],s=a[1],e=a[2],i=o[0],u=o[1],c=o[2];let h=r-n[0],M=s-n[1],f=e-n[2],l=h*h+M*M+f*f;l>0&&(l=1/Math.sqrt(l),h*=l,M*=l,f*=l);let b=u*f-c*M,m=c*h-i*f,d=i*M-u*h;return l=b*b+m*m+d*d,l>0&&(l=1/Math.sqrt(l),b*=l,m*=l,d*=l),t[0]=b,t[1]=m,t[2]=d,t[3]=0,t[4]=M*d-f*m,t[5]=f*b-h*d,t[6]=h*m-M*b,t[7]=0,t[8]=h,t[9]=M,t[10]=f,t[11]=0,t[12]=r,t[13]=s,t[14]=e,t[15]=1,t}function w(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function k(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function N(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t[6]=a[6]+n[6],t[7]=a[7]+n[7],t[8]=a[8]+n[8],t[9]=a[9]+n[9],t[10]=a[10]+n[10],t[11]=a[11]+n[11],t[12]=a[12]+n[12],t[13]=a[13]+n[13],t[14]=a[14]+n[14],t[15]=a[15]+n[15],t}function V(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t[6]=a[6]-n[6],t[7]=a[7]-n[7],t[8]=a[8]-n[8],t[9]=a[9]-n[9],t[10]=a[10]-n[10],t[11]=a[11]-n[11],t[12]=a[12]-n[12],t[13]=a[13]-n[13],t[14]=a[14]-n[14],t[15]=a[15]-n[15],t}function z(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*n,t[9]=a[9]*n,t[10]=a[10]*n,t[11]=a[11]*n,t[12]=a[12]*n,t[13]=a[13]*n,t[14]=a[14]*n,t[15]=a[15]*n,t}function B(t,a,n,o){return t[0]=a[0]+n[0]*o,t[1]=a[1]+n[1]*o,t[2]=a[2]+n[2]*o,t[3]=a[3]+n[3]*o,t[4]=a[4]+n[4]*o,t[5]=a[5]+n[5]*o,t[6]=a[6]+n[6]*o,t[7]=a[7]+n[7]*o,t[8]=a[8]+n[8]*o,t[9]=a[9]+n[9]*o,t[10]=a[10]+n[10]*o,t[11]=a[11]+n[11]*o,t[12]=a[12]+n[12]*o,t[13]=a[13]+n[13]*o,t[14]=a[14]+n[14]*o,t[15]=a[15]+n[15]*o,t}function C(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]}function G(t,a){if(t===a)return!0;const o=t[0],r=t[1],s=t[2],e=t[3],i=t[4],u=t[5],c=t[6],h=t[7],M=t[8],f=t[9],l=t[10],b=t[11],m=t[12],d=t[13],g=t[14],p=t[15],q=a[0],x=a[1],y=a[2],R=a[3],S=a[4],T=a[5],v=a[6],O=a[7],I=a[8],E=a[9],A=a[10],P=a[11],j=a[12],D=a[13],F=a[14],Q=a[15],X=n.getEpsilon();return Math.abs(o-q)<=X*Math.max(1,Math.abs(o),Math.abs(q))&&Math.abs(r-x)<=X*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(s-y)<=X*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(e-R)<=X*Math.max(1,Math.abs(e),Math.abs(R))&&Math.abs(i-S)<=X*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(u-T)<=X*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(c-v)<=X*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(h-O)<=X*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(M-I)<=X*Math.max(1,Math.abs(M),Math.abs(I))&&Math.abs(f-E)<=X*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(l-A)<=X*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(b-P)<=X*Math.max(1,Math.abs(b),Math.abs(P))&&Math.abs(m-j)<=X*Math.max(1,Math.abs(m),Math.abs(j))&&Math.abs(d-D)<=X*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(g-F)<=X*Math.max(1,Math.abs(g),Math.abs(F))&&Math.abs(p-Q)<=X*Math.max(1,Math.abs(p),Math.abs(Q))}function H(t){const a=n.getEpsilon(),o=t[0],r=t[1],s=t[2],e=t[4],i=t[5],u=t[6],c=t[8],h=t[9],M=t[10];return Math.abs(1-(o*o+e*e+c*c))<=a&&Math.abs(1-(r*r+i*i+h*h))<=a&&Math.abs(1-(s*s+u*u+M*M))<=a}function J(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const K=M,L=V,U=Object.freeze(Object.defineProperty({__proto__:null,add:N,adjoint:c,copy:o,determinant:h,equals:G,exactEquals:C,frob:k,fromQuat:D,fromQuat2:v,fromRotation:x,fromRotationTranslation:T,fromRotationTranslationScale:P,fromRotationTranslationScaleOrigin:j,fromScaling:q,fromTranslation:p,fromXRotation:y,fromYRotation:R,fromZRotation:S,frustum:F,getRotation:A,getScaling:E,getTranslation:I,hasIdentityRotation:J,identity:s,invert:u,invertOrIdentity:i,isOrthoNormal:H,lookAt:Z,mul:K,multiply:M,multiplyScalar:z,multiplyScalarAndAdd:B,ortho:Y,perspective:Q,perspectiveFromFieldOfView:X,rotate:b,rotateX:m,rotateY:d,rotateZ:g,scale:l,set:r,str:w,sub:L,subtract:V,targetTo:_,translate:f,transpose:e},Symbol.toStringTag,{value:"Module"}));t.add=N,t.adjoint=c,t.copy=o,t.determinant=h,t.equals=G,t.exactEquals=C,t.frob=k,t.fromQuat=D,t.fromQuat2=v,t.fromRotation=x,t.fromRotationTranslation=T,t.fromRotationTranslationScale=P,t.fromRotationTranslationScaleOrigin=j,t.fromScaling=q,t.fromTranslation=p,t.fromXRotation=y,t.fromYRotation=R,t.fromZRotation=S,t.frustum=F,t.getRotation=A,t.getScaling=E,t.getTranslation=I,t.hasIdentityRotation=J,t.identity=s,t.invert=u,t.invertOrIdentity=i,t.isOrthoNormal=H,t.lookAt=Z,t.mat4=U,t.mul=K,t.multiply=M,t.multiplyScalar=z,t.multiplyScalarAndAdd=B,t.ortho=Y,t.perspective=Q,t.perspectiveFromFieldOfView=X,t.rotate=b,t.rotateX=m,t.rotateY=d,t.rotateZ=g,t.scale=l,t.set=r,t.str=w,t.sub=L,t.subtract=V,t.targetTo=_,t.translate=f,t.transpose=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
