/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["require","../chunks/tslib.es6","../core/reactiveUtils","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/subclass","./Widget","../chunks/componentsUtils","./support/globalCss","./support/legacyIcon","./support/widgetUtils","./support/decorators/messageBundle","./support/decorators/vmEvent","./support/jsxFactory","./ValuePicker/ValuePickerCollection","./ValuePicker/ValuePickerCombobox","./ValuePicker/ValuePickerLabel","./ValuePicker/ValuePickerSlider","./ValuePicker/ValuePickerViewModel","./ValuePicker/ValuePickerVisibleElements"],(function(e,t,o,i,s,a,l,r,n,c,p,d,u,y,h,v,m,_,b,g,w,x){"use strict";const k="esri-value-picker",P={widgetIcon:d.legacyIcon.playCircled,actionBar:`${k}__action-bar`,caption:`${k}__caption`,captionBorder:`${k}__caption-border`,captionText:`${k}__caption-text`,separator:`${k}__separator`},M={base:null,key:"type",typeMap:{collection:m,combobox:_,label:b,slider:g}};let V=class extends n{constructor(e,t){super(e,t),this.caption=null,this.messages=null,this.messagesCommon=null,this.viewModel=new w,this.visibleElements=new x}initialize(){this.addHandles([o.on((()=>this.viewModel),"animate",(({first:e})=>{this.component?.animate(e)})),o.on((()=>this.viewModel),"next",(()=>{this.component?.next()})),o.on((()=>this.viewModel),"previous",(()=>{this.component?.previous()}))])}loadDependencies(){return c.loadCalciteComponents({action:()=>new Promise(((t,o)=>e(["../chunks/calcite-action"],t,o))),"action-bar":()=>new Promise(((t,o)=>e(["../chunks/calcite-action-bar"],t,o)))})}get canNext(){return this.component?.canNext??!0}get canPlay(){return this.component?.canPlay??!0}get canPrevious(){return this.component?.canPrevious??!0}set component(e){e&&(e.viewModel??=this.viewModel),this._set("component",e)}get disabled(){return this.viewModel.disabled}set disabled(e){this.viewModel.disabled=e}get label(){return this.messages.widgetLabel}set label(e){this._overrideIfSome("label",e)}get layout(){return this.viewModel.layout}set layout(e){this.viewModel.layout=e}get loop(){return this.viewModel.loop}set loop(e){this.viewModel.loop=e}get playRate(){return this.viewModel.playRate}set playRate(e){this.viewModel.playRate=e}get values(){return this.viewModel.values}set values(e){this.viewModel.values=e}next(){this.viewModel.next()}pause(){this.viewModel.pause()}play(){this.viewModel.play()}previous(){this.viewModel.previous()}render(){const{disabled:e,state:t}=this.viewModel,o="playing"===t,i="horizontal"===this.layout,{control:s,pagination:a}=this.messagesCommon,{pause:l,play:r}=s,{previous:n,up:c,next:d,down:u}=a,y=this.visibleElements.playButton&&v.tsx("calcite-action",{active:o,alignment:"center",bind:this,disabled:e||!this.canPlay,icon:o?"pause":"play",key:"play",onclick:o?this.pause:this.play,text:o?l:r}),h=this.visibleElements.previousButton&&v.tsx("calcite-action",{alignment:"center",bind:this,disabled:e||o||!this.canPrevious,icon:i?"chevron-left":"chevron-up",key:"previous",onclick:this.previous,text:i?n:c}),m=this.visibleElements.nextButton&&v.tsx("calcite-action",{alignment:"center",bind:this,disabled:e||o||!this.canNext,icon:i?"chevron-right":"chevron-down",key:"next",onclick:this.next,text:i?d:u}),_=this.caption&&v.tsx("div",{class:P.caption},v.tsx("div",{class:P.captionBorder},v.tsx("div",{class:P.captionText},this.caption))),b="combobox"===this.component?.type||"label"===this.component?.type||"slider"===this.component?.type,g=(y||h||m)&&(_||b)&&v.tsx("div",{class:P.separator}),w=this.component?.render();return v.tsx("div",{"aria-label":this.label,class:this.classes(k,p.globalCss.widget,`${k}__layout--${this.layout}`,`${k}__type--${this.component?.type}`)},v.tsx("calcite-action-bar",{class:P.actionBar,expandDisabled:!0,layout:this.layout},[y,h,m,g,_,w]))}};t.__decorate([i.property()],V.prototype,"canNext",null),t.__decorate([i.property()],V.prototype,"canPlay",null),t.__decorate([i.property()],V.prototype,"canPrevious",null),t.__decorate([i.property()],V.prototype,"caption",void 0),t.__decorate([i.property({types:M,value:null})],V.prototype,"component",null),t.__decorate([i.property()],V.prototype,"disabled",null),t.__decorate([i.property()],V.prototype,"label",null),t.__decorate([i.property()],V.prototype,"layout",null),t.__decorate([i.property()],V.prototype,"loop",null),t.__decorate([i.property(),y.messageBundle("esri/widgets/ValuePicker/t9n/ValuePicker")],V.prototype,"messages",void 0),t.__decorate([i.property(),y.messageBundle("esri/t9n/common")],V.prototype,"messagesCommon",void 0),t.__decorate([i.property()],V.prototype,"playRate",null),t.__decorate([i.property()],V.prototype,"values",null),t.__decorate([i.property(),h.vmEvent(["animate","next","pause","play","previous"])],V.prototype,"viewModel",void 0),t.__decorate([i.property({type:x,nonNullable:!0})],V.prototype,"visibleElements",void 0),V=t.__decorate([r.subclass("esri.widgets.ValuePicker")],V);return V}));
