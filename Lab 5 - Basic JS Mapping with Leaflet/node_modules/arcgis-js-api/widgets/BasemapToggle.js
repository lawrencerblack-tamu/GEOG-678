/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["require","../chunks/tslib.es6","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/RandomLCG","../core/has","../core/accessorSupport/decorators/subclass","../support/basemapUtils","./Widget","./BasemapToggle/BasemapToggleViewModel","./BasemapToggle/css","../chunks/componentsUtils","./support/globalCss","./support/widgetUtils","./support/decorators/messageBundle","./support/jsxFactory"],(function(e,s,t,a,l,i,o,r,c,n,p,d,m,u,g,b){"use strict";function v(e){const s=r.getBasemapThumbnailUrl(e);return s?{backgroundImage:"url("+s+")"}:{backgroundImage:""}}const h={title:!1};let y=class extends c{constructor(e,s){super(e,s),this.messages=null,this.viewModel=new n,this.visibleElements={...h},this.toggle=()=>this.viewModel.toggle()}loadDependencies(){return d.loadCalciteComponents({button:()=>new Promise(((s,t)=>e(["../chunks/calcite-button"],s,t))),icon:()=>new Promise(((s,t)=>e(["../chunks/calcite-icon"],s,t))),scrim:()=>new Promise(((s,t)=>e(["../chunks/calcite-scrim"],s,t)))})}get activeBasemap(){return this.viewModel.activeBasemap}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get nextBasemap(){return this.viewModel.nextBasemap}set nextBasemap(e){this.viewModel.nextBasemap=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...h,...e}}render(){const e=this.viewModel,s="disabled"===e.state?null:e.activeBasemap,t="disabled"===e.state?null:e.nextBasemap,a="loading"===e.state,l="incompatible-next-basemap"===e.state,i=t?.title??"",o=t&&"loaded"!==t.loadStatus;let r;const c=this.visibleElements.title&&i,n=l;return(c||n)&&(r=b.tsx("div",{class:p.css.overlay,key:"overlay"},c?b.tsx("span",{class:p.css.title,title:i},i):null,n?b.tsx("calcite-scrim",{class:p.css.overlayScrim,title:this.messages.incompatibleSpatialReference},b.tsx("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),b.tsx("div",{class:this.classes(p.css.base,m.globalCss.widget)},b.tsx("calcite-button",{appearance:"transparent","data-basemap-id":t?t.id:"",disabled:l,kind:"neutral",label:this.label,onclick:()=>{this.toggle()},title:this.label},b.tsx("div",{class:this.classes(p.css.container,p.css.secondaryBasemapImage)},b.tsx("div",{class:p.css.image,styles:v(s)})),b.tsx("div",{class:p.css.container},b.tsx("div",{class:this.classes(p.css.image,o?p.css.imageLoading:null),styles:v(t)},o||a?b.tsx("calcite-scrim",null,b.tsx("span",{"aria-hidden":"true",class:m.globalCss.loaderAnimation,role:"presentation"})):null),r)))}};s.__decorate([t.property({readOnly:!0})],y.prototype,"activeBasemap",null),s.__decorate([t.property()],y.prototype,"label",null),s.__decorate([t.property(),g.messageBundle("esri/widgets/BasemapToggle/t9n/BasemapToggle")],y.prototype,"messages",void 0),s.__decorate([t.property()],y.prototype,"nextBasemap",null),s.__decorate([t.property()],y.prototype,"view",null),s.__decorate([t.property({type:n})],y.prototype,"viewModel",void 0),s.__decorate([t.property()],y.prototype,"visibleElements",void 0),s.__decorate([a.cast("visibleElements")],y.prototype,"castVisibleElements",null),y=s.__decorate([o.subclass("esri.widgets.BasemapToggle")],y);return y}));
