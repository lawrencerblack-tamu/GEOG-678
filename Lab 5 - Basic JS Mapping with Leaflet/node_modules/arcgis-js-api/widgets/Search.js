/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["../chunks/tslib.es6","../intl","../core/maybe","../core/reactiveUtils","../core/string","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/subclass","./Widget","./Search/css","./Search/SearchResultRenderer","./Search/SearchViewModel","./support/globalCss","./support/legacyIcon","./support/widgetUtils","./support/decorators/messageBundle","./support/decorators/vmEvent","./support/jsxFactory","../intl/substitute"],(function(e,t,s,r,n,o,i,a,l,u,c,d,h,g,p,_,v,m,M,y,b){"use strict";const S=/<[a-z/][\s\S]*>/i,w=(e,t)=>{const s=n.escapeRegExpString(t).split(/\s/),r=new RegExp(`(${s.join("|")})`,"gi");return e.replace(r,(e=>`<strong>${e}</strong>`))};let I=class extends c{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new h,this._suggestController=null,this._searchController=null,this._locateFailed=!1,this._container=null,this.activeMenu="none",this.disabled=!1,this.iconClass=d.css.widgetIcon,this.icon=null,this.messages=null,this.messagesCommon=null,this.viewModel=new g,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=e=>{const t=e.relatedTarget;t&&this._container?.contains(t)||this._clearActiveMenu()},this.addHandles([r.watch((()=>this.searchTerm),(e=>{(e&&"warning"===this.activeMenu||!e&&!this.viewModel?.selectedSuggestion?.location)&&this._clearActiveMenu()})),r.on((()=>this.viewModel?.allSources),"change",(()=>this._watchSourceChanges())),r.watch((()=>this.activeMenu),(()=>this._resetActiveMenuItemIndex()),r.initial),r.watch((()=>this.viewModel?.defaultPopupTemplate),(e=>{e&&(e.content=this._renderSearchResultsContent.bind(this))}),r.initial)])}destroy(){this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer=s.destroyMaybe(this._searchResultRenderer)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}get activeSource(){return this.viewModel?.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(e){this.viewModel.activeSourceIndex=e}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(e){this.viewModel.allPlaceholder=e}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(e){this.viewModel.autoNavigate=e}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(e){this.viewModel.autoSelect=e}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(e){this.viewModel.includeDefaultSources=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(e){this.viewModel.locationEnabled=e}get maxResults(){return this.viewModel.maxResults}set maxResults(e){this.viewModel.maxResults=e}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(e){this.viewModel.maxSuggestions=e}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(e){this.viewModel.minSuggestCharacters=e}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(e){this.viewModel.popupEnabled=e}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(e){this.viewModel.popupTemplate=e}get portal(){return this.viewModel?.portal}set portal(e){this.viewModel&&(this.viewModel.portal=e)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(e){this.viewModel.resultGraphic=e}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(e){this.viewModel.resultGraphicEnabled=e}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(e){this.viewModel.searchAllEnabled=e}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(e){this.viewModel.searchTerm=e}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(e){this.viewModel.sources=e}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(e){this.viewModel.suggestionsEnabled=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}clear(){this.viewModel.clear()}focus(){this._inputNode?.focus(),this.emit("search-focus")}blur(){this._inputNode?.blur(),this.emit("search-blur")}async search(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:s}=t;this._searchController=t;try{const r=await this.viewModel.search(e,{signal:s});if(this._searchController!==t)return;return this.activeMenu=r?.numResults?"none":"warning",this._searchController=null,r}catch(r){if(this._searchController!==t)return;return this._clearActiveMenu(),void(this._searchController=null)}}async suggest(e){this._cancelSuggest();const t=new AbortController,{signal:s}=t;this._suggestController=t;try{const r=await this.viewModel.suggest(e,null,{signal:s});if(this._suggestController!==t)return;return this._suggestController=null,r?.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),r}catch(r){return this._suggestController!==t||(this._suggestController=null),null}}render(){const{state:e}=this.viewModel,t={[p.globalCss.disabled]:"disabled"===e,[p.globalCss.widgetDisabled]:this.disabled};return y.tsx("div",{class:this.classes(d.css.base,p.globalCss.widget,t)},"loading"===e?this._renderLoader():this._renderContainer())}_renderSubmitButton(){const{messages:e,disabled:t}=this;return y.tsx("button",{"aria-label":e.searchButtonTitle,bind:this,class:this.classes(d.css.submitButton,p.globalCss.widgetButton),disabled:t,key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},y.tsx("span",{"aria-hidden":"true",class:_.legacyIcon.search}))}_renderWarningMenu(){return y.tsx("div",{class:this.classes(p.globalCss.menu,d.css.warningMenu),key:"esri-search__error-menu"},y.tsx("div",{class:d.css.warningMenuBody},this._renderWarning()))}_renderSourceMenuButton(){const{messages:e,activeMenu:t,sourceMenuId:s,sourceMenuButtonId:r,disabled:n}=this,{activeSourceIndex:o,allSources:i}=this.viewModel;return i.length>1?y.tsx("button",{afterCreate:v.storeNode,"aria-controls":s,"aria-expanded":("source"===t).toString(),"aria-haspopup":"true","aria-label":e.searchIn,bind:this,class:this.classes(d.css.sourcesButton,p.globalCss.widgetButton),"data-node-ref":"_sourceMenuButtonNode",disabled:n,id:r,key:"esri-search__source-menu-button",onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,title:e.searchIn,type:"button"},y.tsx("span",{"aria-hidden":"true",class:this.classes(_.legacyIcon.downArrow,d.css.sourcesButtonDown)}),y.tsx("span",{"aria-hidden":"true",class:this.classes(_.legacyIcon.upArrow,d.css.sourcesButtonUp)}),y.tsx("span",{class:d.css.sourceName},this._getSourceName(o))):null}_renderSourcesList(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:s,activeMenu:r,sourceMenuId:n,sourceMenuButtonId:o}=this,i="source"===r&&s>-1?this._buildId("source-item",s):null;return e.length>1?y.tsx("ul",{afterCreate:v.storeNode,"aria-activedescendant":i,"aria-labelledby":o,bind:this,class:p.globalCss.menuList,"data-node-ref":"_sourceListNode",id:n,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,role:"menu",tabIndex:-1},t?this._renderSource(g.ALL_INDEX):null,e.map(((e,t)=>this._renderSource(t))).toArray()):null}_renderSourcesMenu(){const{allSources:e}=this.viewModel;return e.length>1?y.tsx("div",{class:this.classes(p.globalCss.menu,d.css.sourcesMenu),key:"esri-search__source-menu"},this._renderSourcesList()):null}_renderLoader(){const{messages:e,messagesCommon:t,disabled:s}=this;return y.tsx("div",{class:p.globalCss.loader,key:"base-loader",tabIndex:s?-1:void 0},y.tsx("span",{"aria-hidden":"true",class:p.globalCss.loaderAnimation}),y.tsx("span",{class:_.legacyIcon.fontFallbackText},e.searchButtonTitle),y.tsx("span",{class:p.globalCss.loaderText},t.loading))}_renderContainer(){const{allSources:e,state:t}=this.viewModel,{activeMenu:s}=this,r={[d.css.hasMultipleSources]:e.length>1,[d.css.isLoading]:"loading"===t,[d.css.isSearching]:"searching"===t,[d.css.showWarning]:"warning"===s,[d.css.showSources]:"source"===s,[d.css.showSuggestions]:"suggestion"===s};return y.tsx("div",{afterCreate:e=>{this._container=e,e.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:e=>{e.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(r,d.css.container),key:"base-container",tabIndex:-1},this._renderSourceMenuButton(),this._renderSourcesMenu(),this._renderInputContainer(),this._renderSubmitButton(),this._renderWarningMenu())}_renderClearButton(){return this.searchTerm?y.tsx("button",{bind:this,class:this.classes(d.css.clearButton,p.globalCss.widgetButton),disabled:this.disabled,key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},y.tsx("span",{"aria-hidden":"true",class:_.legacyIcon.close})):null}_renderLocationGroup(){const{messages:e,locationEnabled:t,displayedSearchTerm:s}=this,r=t&&!s,n="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex;return r?y.tsx("ul",{class:this.classes(p.globalCss.menuList,d.css.suggestionList,d.css.suggestionListCurrentLocation),key:"esri-search__suggestion-list-current-location",role:"group"},y.tsx("li",{"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),bind:this,class:this.classes(p.globalCss.menuItem,n?p.globalCss.menuItemFocus:null),"data-current-location-item":!0,id:this._buildId("suggestion-item",0),onclick:this._handleUseCurrentLocationClick,role:"option"},y.tsx("span",{"aria-hidden":"true",class:_.legacyIcon.locateCircled})," ",e.useCurrentLocation)):null}_renderInput(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:s,messages:r,suggestionsMenuId:n,inputId:o,_activeMenuItemIndex:i,disabled:a}=this,{maxInputLength:l,placeholder:u,searchTerm:c,suggestionCount:h}=this.viewModel,g=!(!(t&&!s)&&!h),_="suggestion"===e&&i>-1?this._buildId("suggestion-item",i):null;return y.tsx("input",{afterCreate:v.storeNode,"aria-activedescendant":_,"aria-autocomplete":"list","aria-controls":g?n:null,"aria-expanded":(g&&"suggestion"===e).toString(),"aria-haspopup":"listbox","aria-label":r.searchButtonTitle,autocomplete:"off",bind:this,class:this.classes(p.globalCss.input,d.css.input),"data-node-ref":"_inputNode",disabled:a,id:o,maxlength:l,onblur:this.blur,onclick:this._openSuggestionMenu,onfocus:this.focus,oninput:this._handleInputPaste,onkeyup:this._handleInputKeyup,onpaste:this._handleInputPaste,placeholder:u,role:"combobox",title:c?"":u,type:"text",value:c})}_renderForm(){return y.tsx("form",{bind:this,class:d.css.form,disabled:this.disabled,key:"esri-search__form",onsubmit:this._formSubmit,role:"search"},this._renderInput())}_renderSuggestList(e){const{sourceIndex:t}=e,{results:s}=e,r=s?.length;return r?y.tsx("ul",{class:this.classes(p.globalCss.menuList,d.css.suggestionList),key:`esri-search__suggestion-list-${t}`,role:"group"},s?.map((e=>this._renderSuggestion(e,this._menuItemCount++)))):null}_renderSuggestionsGroup(){const{suggestions:e}=this.viewModel;return e?e.map((e=>[this._renderSuggestionHeader(e),this._renderSuggestList(e)])):[]}_renderSuggestionsMenu(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:s,inputId:r}=this,{suggestionCount:n}=this.viewModel,o=t&&!e||n;return this._menuItemCount=0,o?y.tsx("div",{afterCreate:v.storeNode,"aria-labelledby":r,bind:this,class:this.classes(p.globalCss.menu,d.css.suggestionsMenu),"data-node-ref":"_suggestionListNode",id:s,key:"esri-search__suggestions-menu",role:"listbox"},this._renderLocationGroup(),this._renderSuggestionsGroup()):null}_renderInputContainer(){return y.tsx("div",{class:d.css.inputContainer,key:"esri-search__input-container"},this._renderForm(),this._renderSuggestionsMenu(),this._renderClearButton())}_renderSuggestionHeader(e){const{allSources:t,activeSourceIndex:s}=this.viewModel,{sourceIndex:r}=e,n=e.results?.length,o=t.length>1&&s===g.ALL_INDEX;return n&&o?y.tsx("div",{class:p.globalCss.menuHeader,key:`esri-search__suggestion-header-${r}`},this._getSourceName(r)):null}_renderSuggestion(e,t){const{_activeMenuItemIndex:s,viewModel:{searchTerm:r}}=this;if(!r)return;const n="suggestion"===this.activeMenu&&s===t;return y.tsx("li",{"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===t).toString(),bind:this,class:this.classes(p.globalCss.menuItem,n?p.globalCss.menuItemFocus:null),"data-suggestion":e,id:this._buildId("suggestion-item",t),innerHTML:this._getSuggestResultHTML(e.text,r),key:`esri-search__suggestion_${t}`,onclick:this._handleSuggestionClick,role:"option"})}_renderSource(e){const{activeSourceIndex:t,searchAllEnabled:s}=this.viewModel,r={[p.globalCss.menuItemActive]:e===t,[p.globalCss.menuItemFocus]:"source"===this.activeMenu&&e===(s?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},n=s?e+1:e;return y.tsx("li",{"aria-checked":(e===t).toString(),bind:this,class:this.classes(d.css.source,p.globalCss.menuItem,r),"data-source-index":e,id:this._buildId("source-item",n),key:`esri-search__source-${e}`,onclick:this._handleSourceClick,role:"menuitemradio"},this._getSourceName(e))}_renderNoResultsWarning(e){const{messages:t}=this,s=e?b.substitute(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return y.tsx("div",{key:"esri-search__no_results"},y.tsx("div",{class:d.css.warningMenuHeader},t.noResults),y.tsx("div",{class:d.css.warningMenuText},s))}_renderEmptySearchWarning(){const{messages:e}=this;return y.tsx("div",{key:"esri-search__empty-search"},y.tsx("span",{"aria-hidden":"true",class:_.legacyIcon.noticeTriangle}),y.tsx("span",{class:d.css.noValueText},e.emptyValue))}_renderLocateWarning(){const{messages:e}=this;return y.tsx("div",{key:"esri-search__locate-error"},y.tsx("span",{"aria-hidden":"true",class:_.legacyIcon.noticeTriangle}),y.tsx("span",{class:d.css.noValueText},e.locateError))}_renderWarning(){const{displayedSearchTerm:e,_locateFailed:t}=this,{viewModel:s}=this;return t?this._renderLocateWarning():s.selectedSuggestion?.location||e?this._renderNoResultsWarning(e):this._renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(e,t){return`${this.id}-${e}${void 0===t?"":`-${t}`}`}_watchSourceChanges(){const{viewModel:{allSources:e}}=this,t="sources";this.removeHandles(t),e.forEach((e=>this.addHandles(r.watch((()=>e.name),(()=>this.scheduleRender())),t)))}_handleSourcesMenuToggleFocus(){"source"!==this.activeMenu&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){const e="source"===this.activeMenu;this.activeMenu=e?"none":"source",this.renderNow(),"source"===this.activeMenu&&this._sourceListNode?.focus()}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(e){const t=x(e.currentTarget);t&&(this._focus(),this.search(t))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:t}=e;this._searchController=e;(async()=>{try{const e=await this.viewModel.searchNearby({signal:t});this.activeMenu=e?.numResults?"none":"warning"}catch(e){this._locateFailed=!0,this.activeMenu="warning"}finally{this._searchController=null}})()}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget)}_setSourceFromMenuItem(e){if(!e)return;const t=C(e);null!=t&&(this.viewModel.activeSourceIndex=t,this._clearActiveMenu(),this._sourceMenuButtonNode?.focus())}_cancelSuggest(){this._suggestController=s.abortMaybe(this._suggestController)}_cancelSearch(){this._searchController=s.abortMaybe(this._searchController),this._locateFailed=!1}_handleInputKeyup(e){const{key:t}=e;if(e.ctrlKey||e.metaKey||"Copy"===t||"ArrowLeft"===t||"ArrowRight"===t||"Shift"===t)return;if("Tab"===t||"Escape"===t||e.shiftKey&&"Tab"===t)return this._cancelSuggest(),void("Escape"===t&&this._clearActiveMenu());const s="Home"===t||"End"===t||"ArrowUp"===t||"ArrowDown"===t;if("Enter"===t&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const r=this._suggestionListNode?.getElementsByTagName("li");if(r?.length){if("suggestion"!==this.activeMenu&&this._openSuggestionMenu(),s)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(t,r,this._suggestionListNode);const n=r[this._activeMenuItemIndex];if("Enter"===t&&n){const e=x(n);return void(e?(this._focus(),this.search(e)):f(n)&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(e,t,s){const r=this._activeMenuItemIndex;"Home"===e&&(this._activeMenuItemIndex=0),"End"===e&&(this._activeMenuItemIndex=t.length-1),"ArrowUp"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),"ArrowDown"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),r!==this._activeMenuItemIndex&&s&&v.keepMenuItemWithinView(t[this._activeMenuItemIndex],s)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(e){const t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(e){const{key:t}=e;if(v.isActivationKey(t)){e.preventDefault();const t=this._sourceListNode?.getElementsByTagName("li"),s=t?.[this._activeMenuItemIndex];this._setSourceFromMenuItem(s)}else"ArrowUp"!==t&&"ArrowDown"!==t&&"End"!==t&&"Home"!==t||e.preventDefault()}_handleSourceMenuKeyup(e){const{key:t}=e,s="ArrowUp"===t||"ArrowDown"===t||"End"===t||"Home"===t;if(s&&e.preventDefault(),"Escape"===t)return this._clearActiveMenu(),void this._sourceMenuButtonNode?.focus();const r=this._sourceListNode?.getElementsByTagName("li");return r&&0!==r.length&&s?("source"!==this.activeMenu&&(this.activeMenu="source"),void this._handleItemNavigation(t,r,this._sourceListNode?.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e)}_formSubmit(e){e.preventDefault(),-1===this._activeMenuItemIndex&&this.search()}_getSourceName(e){const{messages:t}=this,s=this.viewModel,{allSources:r}=s,n=r.at(e);return e===g.ALL_INDEX?t.all:n&&n.name||t.untitledSource}_getSuggestResultHTML(e,t){return e?S.test(e)?e:w(e,t):this.messages.untitledResult}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};function x(e){return e?.["data-suggestion"]}function C(e){return e?.["data-source-index"]}function f(e){return!!e?.["data-current-location-item"]}e.__decorate([o.property()],I.prototype,"_activeMenuItemIndex",void 0),e.__decorate([o.property()],I.prototype,"displayedSearchTerm",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"inputId",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"suggestionsMenuId",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"sourceMenuId",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"sourceMenuButtonId",null),e.__decorate([o.property()],I.prototype,"activeMenu",void 0),e.__decorate([o.property({readOnly:!0})],I.prototype,"activeSource",null),e.__decorate([o.property()],I.prototype,"activeSourceIndex",null),e.__decorate([o.property()],I.prototype,"allPlaceholder",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"allSources",null),e.__decorate([o.property()],I.prototype,"autoNavigate",null),e.__decorate([o.property()],I.prototype,"autoSelect",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"defaultSources",null),e.__decorate([o.property()],I.prototype,"disabled",void 0),e.__decorate([o.property()],I.prototype,"goToOverride",null),e.__decorate([o.property()],I.prototype,"iconClass",void 0),e.__decorate([o.property()],I.prototype,"icon",void 0),e.__decorate([o.property()],I.prototype,"includeDefaultSources",null),e.__decorate([o.property()],I.prototype,"label",null),e.__decorate([o.property()],I.prototype,"locationEnabled",null),e.__decorate([o.property()],I.prototype,"maxResults",null),e.__decorate([o.property()],I.prototype,"maxSuggestions",null),e.__decorate([o.property(),m.messageBundle("esri/widgets/Search/t9n/Search")],I.prototype,"messages",void 0),e.__decorate([o.property(),m.messageBundle("esri/t9n/common")],I.prototype,"messagesCommon",void 0),e.__decorate([o.property()],I.prototype,"minSuggestCharacters",null),e.__decorate([o.property()],I.prototype,"popupEnabled",null),e.__decorate([o.property()],I.prototype,"popupTemplate",null),e.__decorate([o.property()],I.prototype,"portal",null),e.__decorate([o.property()],I.prototype,"resultGraphic",null),e.__decorate([o.property()],I.prototype,"resultGraphicEnabled",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"results",null),e.__decorate([o.property()],I.prototype,"searchAllEnabled",null),e.__decorate([o.property()],I.prototype,"searchTerm",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"selectedResult",null),e.__decorate([o.property()],I.prototype,"sources",null),e.__decorate([o.property({readOnly:!0})],I.prototype,"suggestions",null),e.__decorate([o.property()],I.prototype,"suggestionsEnabled",null),e.__decorate([o.property()],I.prototype,"view",null),e.__decorate([M.vmEvent(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),o.property({type:g})],I.prototype,"viewModel",void 0),I=e.__decorate([u.subclass("esri.widgets.Search")],I);return I}));
