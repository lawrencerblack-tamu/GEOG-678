/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["require","../../chunks/tslib.es6","../../core/arrayUtils","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/accessorSupport/decorators/subclass","../../views/interactive/sketch/SketchOptions","../../views/interactive/tooltip/components/directionModeIcons","../Widget","../../chunks/componentsUtils","./globalCss","./LabeledSwitch","./widgetUtils","./decorators/messageBundle","./jsxFactory","./SketchTooltipControls/VisibleElements"],(function(e,t,o,s,i,l,n,r,c,a,d,p,h,b,u,g,k){"use strict";const _="esri-sketch-tooltip-controls",v={base:_,block:`${_}__block`,blockContent:`${_}__block-content`,hintIcon:`${_}__hint-icon`,radioButtonLabelWrapper:`${_}__radio-button-label-wrapper`};let y=class extends a{constructor(e,t){super(e,t),this.viewModel=null,this.visibleElements=new k,this.sketchOptions=new r,this.viewType=void 0,this._onTooltipsEnabledChange=e=>{this.sketchOptions.tooltips.enabled=e},this._onLabelsEnabledChange=e=>{this.sketchOptions.labels.enabled=e},this._onDirectionModeChange=e=>{this.sketchOptions.values.directionMode=e.target.selectedItem.value}}loadDependencies(){return Promise.all([d.loadCalciteComponents({block:()=>new Promise(((t,o)=>e(["../../chunks/calcite-block"],t,o))),label:()=>new Promise(((t,o)=>e(["../../chunks/calcite-label"],t,o))),icon:()=>new Promise(((t,o)=>e(["../../chunks/calcite-icon"],t,o))),"radio-button":()=>new Promise(((t,o)=>e(["../../chunks/calcite-radio-button"],t,o))),"radio-button-group":()=>new Promise(((t,o)=>e(["../../chunks/calcite-radio-button-group"],t,o)))}),h.loadLabeledSwitchComponents()])}render(){const{label:e,visibleElements:t}=this,o=this._renderContent();return g.tsx("div",{"aria-label":e,class:this.classes(v.base,p.globalCss.widget)},o?g.tsx("calcite-block",{class:v.block,heading:t.header?this.label:"",key:"content-block",open:!0},g.tsx("div",{class:v.blockContent,key:"content"},o)):void 0)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}_renderContent(){const{visibleElements:e,viewType:t}=this,s=[e.tooltipsToggle?this._renderTooltipsToggle():null,e.labelsToggle&&"2d"!==t?this._renderLabelsToggle():null,e.directionModePicker?this._renderDirectionModePicker():null].filter(o.isSome);return 0===s.length?null:s}_renderTooltipsToggle(){const{messages:e,sketchOptions:t}=this;return g.tsx(h.LabeledSwitch,{checked:t.tooltips.effectiveEnabled,hint:e.tooltipsToggleHint,key:`${this.id}__tooltips`,label:e.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:e,sketchOptions:t}=this;return g.tsx(h.LabeledSwitch,{checked:t.labels.enabled,hint:e.labelsToggleHint,key:`${this.id}__labels`,label:e.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:e,sketchOptions:t}=this,{directionMode:o}=t.values;return g.tsx("calcite-label",{key:"direction-mode",layout:"default",scale:"s"},e.directionModePicker,g.tsx("calcite-radio-button-group",{key:"radio-button-group",layout:"horizontal",name:this.id,scale:"s",value:o,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption("relative",o,e.directionModeRelative),this._renderDirectionModeOption("absolute",o,e.directionModeAbsolute)))}_renderDirectionModeOption(e,t,o){return g.tsx("calcite-label",{key:e,layout:"inline",scale:"s"},g.tsx("calcite-radio-button",{checked:e===t,scale:"s",value:e}),g.tsx("div",{class:v.radioButtonLabelWrapper,key:"label-wrapper"},g.tsx("calcite-icon",{icon:c.directionModeIcons[e],scale:"s"}),o))}};t.__decorate([s.property()],y.prototype,"label",null),t.__decorate([s.property({type:k,nonNullable:!0})],y.prototype,"visibleElements",void 0),t.__decorate([s.property(),u.messageBundle("esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls")],y.prototype,"messages",void 0),t.__decorate([s.property({nonNullable:!0,type:r})],y.prototype,"sketchOptions",void 0),t.__decorate([s.property({type:String})],y.prototype,"viewType",void 0),y=t.__decorate([n.subclass("esri.widgets.support.SketchTooltipControls")],y);return y}));
