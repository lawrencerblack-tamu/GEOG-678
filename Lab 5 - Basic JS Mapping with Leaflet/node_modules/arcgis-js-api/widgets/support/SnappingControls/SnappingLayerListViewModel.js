/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/tslib.es6","../../../core/Collection","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","../../LayerList/LayerListViewModel","./snappingLayerListUtils","./SnappingListItem"],(function(e,t,r,i,s,o,a,p,n,l,c){"use strict";e.SnappingLayerListViewModel=class extends n{constructor(){super(...arguments),this.featureSnappingSources=new r}get operationalItemsFlat(){return this.operationalItems.flatten((e=>e.children))}get selectableItems(){return this.operationalItemsFlat.filter((e=>!e.children?.length))}_compileList(){const e=this.view?.map?.layers;if(!e)return;const t=e.filter(l.isValidSnappingLayer);this._watchLayersListMode(t);const r=this._getViewableLayers(t);r?.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createListItem(e){return new c.SnappingListItem({layer:e,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}},t.__decorate([i.property()],e.SnappingLayerListViewModel.prototype,"featureSnappingSources",void 0),t.__decorate([i.property()],e.SnappingLayerListViewModel.prototype,"operationalItems",void 0),t.__decorate([i.property()],e.SnappingLayerListViewModel.prototype,"operationalItemsFlat",null),t.__decorate([i.property()],e.SnappingLayerListViewModel.prototype,"selectableItems",null),e.SnappingLayerListViewModel=t.__decorate([p.subclass("esri.widgets.support.SnappingControls.SnappingLayerListViewModel")],e.SnappingLayerListViewModel),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
