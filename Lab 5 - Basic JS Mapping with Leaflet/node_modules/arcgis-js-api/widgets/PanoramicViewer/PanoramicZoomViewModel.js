/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../core/mathUtils","../../core/reactiveUtils","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","../../views/SceneView","./PanoramicZoomConditions","../Zoom/ZoomViewModel"],(function(o,t,i,e,n,r,a,s,c,m,p){"use strict";let d=class extends p{constructor(o){super(o),this.panoramicZoomConditions=new m,this.zoomTo=o=>{this.view.camera.fov=this.constrainFOV(o),this.view.camera=this.view.camera.clone()}}initialize(){this.addHandles([i.watch((()=>[this.view?.ready,this.panoramicZoomConditions]),(()=>{this.view?.ready&&(this.panoramicZoomConditions.view=this.view,this.zoomTo(this.view.camera.fov))}),i.syncAndInitial),i.watch((()=>[this.panoramicZoomConditions.maxFOV,this.panoramicZoomConditions.minFOV]),(([o,t])=>{null!=o&&null!=t&&this.zoomTo(this.view.camera.fov)}),i.sync)])}get canZoomIn(){return this.panoramicZoomConditions.canZoomIn}get canZoomOut(){return this.panoramicZoomConditions.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(o){this._set("view",o)}constrainFOV(o){const{maxFOV:i,minFOV:e}=this.panoramicZoomConditions;return t.clamp(o,e,i)}zoomIn(){if(!this.canZoomIn)return;const o=this.view.camera.fov-this.panoramicZoomConditions.zoomFactor;this.zoomTo(o)}zoomOut(){if(!this.canZoomOut)return;const o=this.view.camera.fov+this.panoramicZoomConditions.zoomFactor;this.zoomTo(o)}};o.__decorate([e.property()],d.prototype,"canZoomIn",null),o.__decorate([e.property()],d.prototype,"canZoomOut",null),o.__decorate([e.property({type:m})],d.prototype,"panoramicZoomConditions",void 0),o.__decorate([e.property()],d.prototype,"state",null),o.__decorate([e.property({type:c})],d.prototype,"view",null),d=o.__decorate([s.subclass("esri.widgets.PanoramicViewer.PanoramicZoomViewModel")],d);return d}));
