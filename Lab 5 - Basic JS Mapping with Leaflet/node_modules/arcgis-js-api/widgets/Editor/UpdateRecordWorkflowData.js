/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../core/Accessor","../../core/Error","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","./Edits"],(function(e,t,r,o,a,s,d,i,c){"use strict";var p;let l=p=class extends t{constructor(e){super(e),this.editorItem=null,this.edits=null,this.parent=null,this.relatedRecordCallbacks=null,this.viewModel=null}get attachmentsCapabilities(){const e=this.editorItem.capabilities.update.attachments.enabled;return{editing:!0,operations:{add:e,update:e,delete:e}}}get formTemplate(){return this.editorItem.formTemplate}static async create(e){const t=p._makeConstructorProps(e);return new p(t)}static _makeConstructorProps(e){const{feature:t,parent:o,relatedRecordCallbacks:a,viewModel:s}=e,d=s.editorItems.find((e=>e.layer===t.layer));if(!d)throw new r("no-editorItem-found","The EditorViewModel provided did not have an EditorItem associated with the specified Graphic's layer");return{editorItem:d,edits:new c.Edits({feature:t}),parent:o,relatedRecordCallbacks:a,viewModel:s}}};e.__decorate([o.property()],l.prototype,"attachmentsCapabilities",null),e.__decorate([o.property({constructOnly:!0})],l.prototype,"editorItem",void 0),e.__decorate([o.property()],l.prototype,"edits",void 0),e.__decorate([o.property()],l.prototype,"formTemplate",null),e.__decorate([o.property()],l.prototype,"parent",void 0),e.__decorate([o.property()],l.prototype,"relatedRecordCallbacks",void 0),e.__decorate([o.property()],l.prototype,"viewModel",void 0),l=p=e.__decorate([i.subclass("esri.widgets.Editor.UpdateRecordWorkflowData")],l);return l}));
