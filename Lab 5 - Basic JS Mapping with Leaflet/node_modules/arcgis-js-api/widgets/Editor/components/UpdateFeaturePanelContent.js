/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../intl/substitute","./FooterActions","./Notices","./PanelContent","../../support/Heading","../../support/widgetUtils","../../support/jsxFactory"],(function(e,t,n,o,a,s,i,l){"use strict";const r=()=>Promise.all([n.loadFooterActionsComponents(),o.loadNoticesComponents(),a.loadPanelContentComponents()]);function u({editorViewModel:e,headingLevel:i,messages:r,messagesCommon:u,onDelete:c,onSave:d,renderAttachments:p,renderFeatureForm:m}){const{activeWorkflow:g,featureFormViewModel:v,syncing:C}=e;if(!g||!v)return null;const F=g.type,h="activeWorkflow"in g?g.activeWorkflow:void 0,b=h?.type,f=h&&!h.hasPendingEdits||"update"===F&&!g.hasPendingEdits||C||v.updating,P="update"===F&&"create-features"!==b?u.update:u.create,k="create-features"===F&&"create-new"===g.createFeatureState,w="create-features"===F?g.numPendingFeatures:0,x=w>1?t.substitute(r.createFeaturesTemplate,{numFeatures:w}):P,y=g.shouldShowAttachments&&!v.activeRelationshipInput,S=v.inputs.every((e=>!e.visible))&&!y?l.tsx(a.PanelContentMessage,{key:"panel-content-message"},t.substitute(r.clickToFinishTemplate,{button:P})):l.tsx(a.PanelContentSection,{key:"panel-content-section"},l.tsx(o.Notices,{messages:r,workflow:g}),l.tsx(a.PanelContentSectionGroup,null,m(),y?l.tsx("div",{key:"attachments"},l.tsx(s.Heading,{level:s.incrementHeadingLevel(i)},r.attachments),p()):null));return l.tsx(l.tsxFragment,null,l.tsx(a.PanelContent,{key:"attribute-panel-content",showScrimOverlay:k},S),l.tsx(n.FooterActions,{buttons:[{onClick:d,disabled:f,label:x},e.shouldShowDeleteButton?{appearance:"outline",onClick:c,disabled:C,kind:"danger",label:u.delete}:void 0]}))}e.UpdateFeaturePanelContent=u,e.loadUpdateFeaturePanelContentComponents=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
