/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["require","../chunks/tslib.es6","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/subclass","./Widget","./Compass/CompassViewModel","./Compass/css","../chunks/componentsUtils","./support/globalCss","./support/widgetUtils","./support/decorators/messageBundle","./support/jsxFactory"],(function(e,s,t,o,r,i,a,l,c,n,d,p,u,g,h){"use strict";let v=class extends l{constructor(e,s){super(e,s),this.iconClass=n.css.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new c,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=e=>({transform:`rotateZ(${e.z}deg)`})}loadDependencies(){return d.loadCalciteComponents({button:()=>new Promise(((s,t)=>e(["../chunks/calcite-button"],s,t))),icon:()=>new Promise(((s,t)=>e(["../chunks/calcite-icon"],s,t)))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:s}=this.viewModel,t="rotation"===s?"arrow-up":"compass-needle",o=this.icon??t,{messages:r}=this;return h.tsx("div",{class:this.classes(n.css.base,p.globalCss.widget)},h.tsx("calcite-button",{class:p.globalCss.widgetButton,disabled:"disabled"===s,kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},h.tsx("div",{"aria-hidden":"true",class:n.css.iconContainer,title:r.reset},h.tsx("calcite-icon",{icon:o,scale:"m",styles:this._toRotationTransform(e)}))))}};s.__decorate([t.property()],v.prototype,"goToOverride",null),s.__decorate([t.property()],v.prototype,"iconClass",void 0),s.__decorate([t.property()],v.prototype,"icon",void 0),s.__decorate([t.property()],v.prototype,"label",null),s.__decorate([t.property(),g.messageBundle("esri/widgets/Compass/t9n/Compass")],v.prototype,"messages",void 0),s.__decorate([t.property()],v.prototype,"view",null),s.__decorate([t.property({type:c})],v.prototype,"viewModel",void 0),v=s.__decorate([a.subclass("esri.widgets.Compass")],v);return v}));
