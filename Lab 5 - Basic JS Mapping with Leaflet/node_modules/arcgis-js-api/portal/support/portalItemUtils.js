/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],(function(e,t,r,o){"use strict";async function n(e){const n=e.spatialReference;if(n.isWGS84)return e.clone();if(n.isWebMercator)return o.webMercatorToGeographic(e);const i=r.WGS84;return await t.initializeProjection(n,i),t.project(e,i)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e){return s(e,d.HOSTED_SERVICE)}function a(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function l(e,t,r){r?i(e,t):a(e,t)}async function u(e){const t=e.clone().normalize();let r;if(t.length>1)for(const o of t)r?o.width>r.width&&(r=o):r=o;else r=t[0];return n(r)}const d={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function y(e){const{portal:t,isOrgItem:r,itemControl:o}=e,n=t.user?.privileges;let i=!n||n.includes("features:user:edit"),s=!!r&&!!n?.includes("features:user:fullEdit");const c="update"===o||"admin"===o;return c?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:c}}}e.addTypeKeyword=i,e.getUserPrivileges=y,e.getWGS84ExtentForItem=u,e.hasTypeKeyword=s,e.isHostedLayer=c,e.removeTypeKeyword=a,e.toggleTypeKeyword=l,e.typeKeyword=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
