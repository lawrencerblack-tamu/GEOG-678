/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec42","../../core/libs/gl-matrix-2/factories/vec4f64"],(function(t,e,r,n,o){"use strict";const i=2.4;function a(t){return r.px2pt(t*i)}function c(t){return r.pt2px(t)/i}function s(t,r,o,i){let{color:a,ratio:c}=r,{color:s,ratio:u}=o;if(u===c){const t=1e-6;1===u?c-=t:u+=t}const l=e.clamp((i-c)/(u-c),0,1);n.lerp(t,a.toArray(),s.toArray(),l)}function u(t){const e=512,r=new Uint8ClampedArray(4*e);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,e)=>t.ratio-e.ratio)).map((({color:t,ratio:e})=>({color:t,ratio:Math.max(e,.001)}))),t.length<1)return r;let n=t[0],i=t[0],a=1;const c=o.create();for(let o=0;o<e;o++){const u=(o+.5)/e;for(;u>i.ratio&&a<t.length;)n=i,i=t[a++];s(c,n,i,u),r.set(c,4*o)}return r}function l(t,e,r){const n=Math.sqrt(t**2+e**2)/r;return n>1?0:3/(Math.PI*r**2)*(1-n**2)**2}function f(t){return"function"==typeof t?t:t?e=>+e[t]:()=>1}t.createValueFunction=f,t.evaluateDensityKernel=l,t.gaussianBlurRadiusPxToKernelDensityRadiusPt=a,t.generateGradient=u,t.kernelDensityRadiusPtToGaussianBlurRadiusPx=c,t.magicKernelDensityRadiusInflationFactor=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
