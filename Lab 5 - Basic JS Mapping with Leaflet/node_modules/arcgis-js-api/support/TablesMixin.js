/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../chunks/tslib.es6","../core/Collection","../core/collectionUtils","../core/Logger","../core/accessorSupport/decorators/property","../core/has","../core/RandomLCG","../core/accessorSupport/decorators/subclass"],(function(e,t,r,s,o,a,i,n,l){"use strict";function c(e,t,r){if(e)for(let s=0,o=e.length;s<o;s++){const o=e.at(s);if(o[t]===r)return o;if("group"===o?.type){const e=c(o.tables,t,r);if(e)return e}}}const d=e=>{let i=class extends e{constructor(...e){super(...e),this.tables=new r,this.addHandles([this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&o.getLogger(this).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))])}destroy(){const e=this.tables.toArray();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",s.referenceSetter(e,this._get("tables")))}findTableById(e){return c(this.tables,"id",e)}findTableByUid(e){return c(this.tables,"uid",e)}};return t.__decorate([a.property()],i.prototype,"tables",null),i=t.__decorate([l.subclass("esri.support.TablesMixin")],i),i};e.TablesMixin=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
