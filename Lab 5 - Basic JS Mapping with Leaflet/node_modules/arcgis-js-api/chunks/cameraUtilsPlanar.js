/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../core/mathUtils","../core/libs/gl-matrix-2/math/mat4","../core/libs/gl-matrix-2/factories/mat4f64","./vec32","../core/libs/gl-matrix-2/factories/vec3f64","../geometry/Extent","../geometry/projection/projectPointToVector","../geometry/projection/projectVectorToVector","../views/3d/support/cameraUtilsInternal"],(function(e,t,o,r,i,n,c,a,l,T){"use strict";const d=n.fromValues(0,1,0),s=n.fromValues(0,0,1),p=r.create(),f=n.create(),m=n.create();function u(e,r,n,c=T.createDirectionUp()){const{direction:a,up:l}=c;return o.fromZRotation(p,-t.deg2rad(r)),o.rotateX(p,p,t.deg2rad(n)),i.transformMat4(a,s,p),i.scale(a,a,-1),i.transformMat4(l,d,p),c}function g(e,t,o,r){return T.directionToHeadingTilt(t,o,r,s,d)}function y(e,t,o,r){const c=u(e,o,r),a=n.create();return i.scale(a,c.direction,-t),i.add(a,a,e),{up:c.up,eye:a,heading:o,tilt:r}}function x(e){return t.rad2deg(e)}function V(e){return t.deg2rad(e)}function j(e,t,o,r,i){const n=e.renderSpatialReference,T=e.map&&e.spatialReference||t.spatialReference;return a.projectPointToVector(t,f,n),a.projectPointToVector(t,m,n),f[0]-=o/2,m[0]+=o/2,f[1]-=r/2,m[1]+=r/2,l.projectVectorToVector(f,n,f,T),l.projectVectorToVector(m,n,m,T),i?(i.xmin=f[0],i.ymin=f[1],i.xmax=m[0],i.ymax=m[1],i.spatialReference=T):i=new c(f[0],f[1],m[0],m[1],T),i}const h=Object.freeze(Object.defineProperty({__proto__:null,directionToHeadingTilt:g,eyeForCenterWithHeadingTilt:y,eyeTiltToLookAtTilt:V,headingTiltToDirectionUp:u,lookAtTiltToEyeTilt:x,toExtent:j},Symbol.toStringTag,{value:"Module"}));e.cameraUtilsPlanar=h,e.directionToHeadingTilt=g,e.eyeForCenterWithHeadingTilt=y,e.eyeTiltToLookAtTilt=V,e.headingTiltToDirectionUp=u,e.lookAtTiltToEyeTilt=x,e.toExtent=j}));
