/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../core/has","../geometry/support/buffer/math/common"],(function(t,e,r){"use strict";function n(t,e,r){f(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function f(t,e,r,n=3,f=n){if(t.length/n!==Math.ceil(e.length/f))return t;const o=t.length/n,i=r[0],u=r[1],a=r[2],l=r[4],c=r[5],s=r[6],d=r[8],h=r[9],p=r[10],m=r[12],y=r[13],B=r[14];let g=0,M=0;for(let S=0;S<o;S++){const r=e[g],o=e[g+1],S=e[g+2];t[M]=i*r+l*o+d*S+m,t[M+1]=u*r+c*o+h*S+y,t[M+2]=a*r+s*o+p*S+B,g+=f,M+=n}return t}function o(t,e,r){i(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function i(t,e,n,f=3,o=f){if(t.length/f!==Math.ceil(e.length/o))return void r.getMathLogger().error("source and destination buffers need to have the same number of elements");const i=t.length/f,u=n[0],a=n[1],l=n[2],c=n[3],s=n[4],d=n[5],h=n[6],p=n[7],m=n[8];let y=0,B=0;for(let r=0;r<i;r++){const r=e[y],n=e[y+1],i=e[y+2];t[B]=u*r+c*n+h*i,t[B+1]=a*r+s*n+p*i,t[B+2]=l*r+d*n+m*i,y+=o,B+=f}}function u(t,e,r){a(t.typedBuffer,e,r,t.typedBufferStride)}function a(t,e,r,n=3){const f=Math.min(t.length/n,e.count),o=e.typedBuffer,i=e.typedBufferStride;let u=0,a=0;for(let l=0;l<f;l++)t[a]=r*o[u],t[a+1]=r*o[u+1],t[a+2]=r*o[u+2],u+=i,a+=n}function l(t,e,r,n=3,f=n){const o=t.length/n;if(o!==Math.ceil(e.length/f))return t;let i=0,u=0;for(let a=0;a<o;a++)t[u]=e[i]+r[0],t[u+1]=e[i+1]+r[1],t[u+2]=e[i+2]+r[2],i+=f,u+=n;return t}function c(t,e){s(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function s(t,e,r=3,n=r){const f=Math.min(t.length/r,e.length/n);let o=0,i=0;for(let u=0;u<f;u++){const f=e[o],u=e[o+1],a=e[o+2],l=f*f+u*u+a*a;if(l>0){const e=1/Math.sqrt(l);t[i]=e*f,t[i+1]=e*u,t[i+2]=e*a}o+=n,i+=r}}function d(t,e,r){const n=Math.min(t.count,e.count),f=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,u=e.typedBufferStride;let a=0,l=0;for(let c=0;c<n;c++)f[l]=i[a]>>r,f[l+1]=i[a+1]>>r,f[l+2]=i[a+2]>>r,a+=u,l+=o}const h=Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:c,scale:a,scaleView:u,shiftRight:d,transformMat3:i,transformMat3View:o,transformMat4:f,transformMat4View:n,translate:l},Symbol.toStringTag,{value:"Module"}));t.normalize=s,t.normalizeView=c,t.scale=a,t.scaleView=u,t.shiftRight=d,t.transformMat3=i,t.transformMat3View=o,t.transformMat4=f,t.transformMat4View=n,t.translate=l,t.vec3=h}));
