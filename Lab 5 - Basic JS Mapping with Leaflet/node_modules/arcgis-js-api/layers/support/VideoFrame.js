/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../geometry","../../core/Accessor","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../geometry/Point"],(function(o,r,t,e,s,n,c,p,i,a,l,u,d){"use strict";let P=class extends t{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};function y(o){return null!=o?.sourcePoint&&null!=o.mapPoint}o.__decorate([n.property()],P.prototype,"sourcePoint",void 0),o.__decorate([n.property({type:d})],P.prototype,"mapPoint",void 0),P=o.__decorate([l.subclass("esri.layers.support.ControlPoint")],P);let m=class extends(e.ClonableMixin(s.JSONSupport)){constructor(o){super(o),this.frame=null,this.controlPoints=null}readControlPoints(o){return o.map((o=>({sourcePoint:{x:o.frameX,y:o.frameY},mapPoint:new d(o.point)})))}writeControlPoints(o,r){null!=o&&y(o[0])&&(r.controlPoints=o.map((o=>{const r=o.sourcePoint,t=o.mapPoint;return{frameX:r.x,frameY:r.y,point:t.toJSON()}})))}};o.__decorate([n.property({type:String})],m.prototype,"frame",void 0),o.__decorate([n.property({type:[P],json:{write:{allowNull:!1,isRequired:!0}}})],m.prototype,"controlPoints",void 0),o.__decorate([a.reader("controlPoints")],m.prototype,"readControlPoints",null),o.__decorate([u.writer("controlPoints")],m.prototype,"writeControlPoints",null),m=o.__decorate([l.subclass("esri.layers.support.VideoFrame")],m);return m}));
