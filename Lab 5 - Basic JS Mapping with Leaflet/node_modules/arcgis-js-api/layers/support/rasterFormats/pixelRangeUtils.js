/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports"],(function(e){"use strict";const t=9999999e31,n=2e-7,s={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function u(e){return s[e]??[-34028234663852886e22,34028234663852886e22]}function i(e,t){return null==e||null==t?"s32":e<0?e>=-128&&t<128?"s8":e>=-32768&&t<32768?"s16":"s32":t<256?"u8":t<65536?"u16":"u32"}function l(e){return(e?.startsWith("s")||e?.startsWith("u"))??!1}function a(e,s,i){if(e.depthCount&&e.depthCount>1)return;const{pixels:l,statistics:a,pixelType:o}=e,r=l[0].length,c=e.bandMasks??[],f=e.mask??new Uint8Array(r).fill(255),b="f32"===o||"f64"===o,d=u(o);let p=!1;for(let u=0;u<l.length;u++){const e="number"==typeof s?s:s[u];if(null==e)continue;const r=a?.[u]?.minValue??d[0],g=a?.[u]?.maxValue??d[1];if(r>e+Number.EPSILON||g<e-Number.EPSILON)continue;const h=c[u]||f.slice(),m=l[u],M=i?.customFloatTolerance;if(b&&0!==M){let s=M;s||(s=Math.abs(e)>=t?n*Math.abs(e):"f32"===o?2**-23:Number.EPSILON);for(let t=0;t<m.length;t++)h[t]&&Math.abs(m[t]-e)<s&&(m[t]=0,h[t]=0,f[t]=0,p=!0)}else for(let t=0;t<m.length;t++)h[t]&&m[t]===e&&(m[t]=0,h[t]=0,f[t]=0,p=!0);c[u]=h}p&&(e.bandMasks=e.bandMasks||e.pixels.length>1?c:null,e.mask=f),p&&"updateStatistics"in e&&e.updateStatistics()}e.convertNoDataToMask=a,e.getIntegerPixelType=i,e.getPixelValueRange=u,e.isIntegerPixelType=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
