/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../core/jsonMap","./CameraOrientationHPR","./CameraOrientationOPK","./CameraOrientationYPR","./ElevationSourceDefinitions","../enums/CameraOrientationType","../../../widgets/support/dataUtils"],(function(e,t,n,i,r,a,o,l){"use strict";function s(e,t,n){return t&&(e=`${t}${e}`),n&&(e+=`${n}`),e}function u(e,t,n){let{url:i}=e;return i?(i=s(i,t,n),new a.ElevationSource({...e,url:i})):null}function c(e,t,n){return e?a.isConstantElevation(e)?new a.ConstantElevation(e):u(e,t,n):e}const f=new t.JSONMap({Minutes:"minutes",Hours:"hours",Days:"days",Weeks:"weeks",Months:"months",Years:"years"}),m=new t.JSONMap({360:"360",Horizontal:"horizontal",Inspection:"inspection",Nadir:"nadir",Oblique:"oblique","":null}),p=new Map;p.set(`${o.CameraOrientationType.OPK}`,{desc:"Using Omega Phi Kappa",constructor:i}),p.set(`${o.CameraOrientationType.HPR}`,{desc:"Using Heading, Pitch and Roll",constructor:n}),p.set(`${o.CameraOrientationType.YPR}`,{desc:"Using Yaw, Pitch and Roll",constructor:r});const g=new Map;function h(e){const[t,n,i,r,a,o,s,u,c,f,m,p,g,h,d,b,O,y,N,C,P,T]=e.slice(1),D=[c,f,m,p,g,h].map((e=>Number(e))),v=[b,O].map((e=>Number(e))),w=[y,N,C].map((e=>Number(e))),R=[P,T].map((e=>Number(e)));return{horizontalWKID:t,verticalWKID:n,x:i,y:r,z:a,omega:o,phi:s,kappa:u,affineTransformations:6===D.filter(l.isNumber).length?D:null,focalLength:d,principalOffsetPoint:2!==v.filter(l.isNumber).length?null:v,radialDistortionCoefficients:3!==w.filter(l.isNumber).length?[0,0,0]:w,tangentialDistortionCoefficients:2!==R.filter(l.isNumber).length?[0,0]:R}}function d(e){const[t,n,i,r,a,o,s,u,c,f,m,p,g,h,d,b,O,y,N,C,P,T]=e.slice(1),D=[c,f,m,p,g,h].map((e=>Number(e))),v=[b,O].map((e=>Number(e))),w=[y,N,C],R=[P,T];return{horizontalWKID:t,verticalWKID:n,x:i,y:r,z:a,heading:o,pitch:s,roll:u,affineTransformations:6===D.filter(l.isNumber).length?D:null,focalLength:d,principalOffsetPoint:2!==v.filter(l.isNumber).length?null:v,radialDistortionCoefficients:3!==w.filter(l.isNumber).length?null:w,tangentialDistortionCoefficients:2!==R.filter(l.isNumber).length?null:R}}function b(e){const[t,n,i,r,a,o,s,u,c,f,m,p,g,h,d,b,O,y,N,C,P,T]=e.slice(1),D=[c,f,m,p,g,h].map((e=>Number(e))),v=[b,O].map((e=>Number(e))),w=[y,N,C],R=[P,T];return{horizontalWKID:t,verticalWKID:n,x:i,y:r,z:a,yaw:o,pitch:s,roll:u,affineTransformations:6===D.filter(l.isNumber).length?D:null,focalLength:d,principalOffsetPoint:2!==v.filter(l.isNumber).length?null:v,radialDistortionCoefficients:3!==w.filter(l.isNumber).length?null:w,tangentialDistortionCoefficients:2!==R.filter(l.isNumber).length?null:R}}function O(e){const[t,n,i,r,a,...o]=e.slice(1),l=g.get(a);if(!l)return null;return{latitude:t,longitude:n,ellipsoidRadius:i,squaredEccentricity:r,properties:l([a,"",...o])}}function y(e){if(!e)return null;const t=`${e}`.split("|");if(0===t.length)return null;const n=p.get(t[0]);if(!n)return null;const i=g.get(t[0]);if(!i)return null;return new(0,n.constructor)(i(t))}g.set(`${o.CameraOrientationType.HPR}`,d),g.set(`${o.CameraOrientationType.YPR}`,b),g.set(`${o.CameraOrientationType.OPK}`,h),g.set(`${o.CameraOrientationType.LTP}`,O),e.appendPrefixAndSuffix=s,e.cameraOrientationRegistry=p,e.createCameraOrientation=y,e.getEffectiveElevationSource=c,e.orientedImageryTypeMap=m,e.processElevationSource=u,e.timeIntervalUnitTypeMap=f,e.transformersRegistry=g,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
