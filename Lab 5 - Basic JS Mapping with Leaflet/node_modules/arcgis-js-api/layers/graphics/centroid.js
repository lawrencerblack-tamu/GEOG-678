/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports"],(function(t){"use strict";function n(t,n){return t?n?4:3:n?3:2}function e(t,e,o,u){if(!e?.lengths.length)return null;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const l=t.coords,N=[],s=o?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:c,coords:i}=e,f=n(o,u);let T=0;for(const n of c){const t=r(s,i,T,n,o,u);t&&N.push(t),T+=n*f}if(N.sort(((t,n)=>{let e=t[2]-n[2];return 0===e&&o&&(e=t[4]-n[4]),e})),N.length){let t=6*N[0][2];l[0]=N[0][0]/t,l[1]=N[0][1]/t,o&&(t=6*N[0][4],l[2]=0!==t?N[0][3]/t:0),(l[0]<s[0]||l[0]>s[1]||l[1]<s[2]||l[1]>s[3]||o&&(l[2]<s[4]||l[2]>s[5]))&&(l.length=0)}if(!l.length){const t=e.lengths[0]?I(i,0,c[0],o,u):null;if(!t)return null;l[0]=t[0],l[1]=t[1],o&&t.length>2&&(l[2]=t[2])}return t}function r(t,e,r,I,o,u){const l=n(o,u);let N=r,s=r+l,c=0,i=0,f=0,T=0,g=0;for(let n=0,E=I-1;n<E;n++,N+=l,s+=l){const n=e[N],r=e[N+1],I=e[N+2],u=e[s],l=e[s+1],h=e[s+2];let E=n*l-u*r;T+=E,c+=(n+u)*E,i+=(r+l)*E,o&&(E=n*h-u*I,f+=(I+h)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(T>0&&(T*=-1),g>0&&(g*=-1),!T)return null;const h=[c,i,.5*T];return o&&(h[3]=f,h[4]=.5*g),h}function I(t,e,r,I,s){const c=n(I,s);let i=e,f=e+c,T=0,g=0,h=0,E=0;for(let n=0,m=r-1;n<m;n++,i+=c,f+=c){const n=t[i],e=t[i+1],r=t[i+2],s=t[f],c=t[f+1],m=t[f+2],b=I?u(n,e,r,s,c,m):o(n,e,s,c);if(b)if(T+=b,I){const t=N(n,e,r,s,c,m);g+=b*t[0],h+=b*t[1],E+=b*t[2]}else{const t=l(n,e,s,c);g+=b*t[0],h+=b*t[1]}}return T>0?I?[g/T,h/T,E/T]:[g/T,h/T]:r>0?I?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function o(t,n,e,r){const I=e-t,o=r-n;return Math.sqrt(I*I+o*o)}function u(t,n,e,r,I,o){const u=r-t,l=I-n,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function l(t,n,e,r){return[t+.5*(e-t),n+.5*(r-n)]}function N(t,n,e,r,I,o){return[t+.5*(r-t),n+.5*(I-n),e+.5*(o-e)]}t.getCentroidOptimizedGeometry=e,t.lineCentroid=I,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
