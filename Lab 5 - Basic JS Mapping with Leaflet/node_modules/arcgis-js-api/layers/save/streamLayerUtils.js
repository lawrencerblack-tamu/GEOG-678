/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","./utils","../../portal/support/portalItemUtils"],(function(e,t,r){"use strict";const a="Stream Service",s="Feed",n="stream-layer-save",l="stream-layer-save-as";function o(e){return{isValid:"stream"===e.type&&!!e.url&&!e.webSocketUrl,errorMessage:"Stream layer should be created using a url to a stream service"}}function i(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function y(e,t){const{parsedUrl:a,title:s,fullExtent:n}=e;t.url=a.path,t.title||=s,t.extent=null,null!=n&&(t.extent=await r.getWGS84ExtentForItem(n)),r.removeTypeKeyword(t,r.typeKeyword.METADATA),r.addTypeKeyword(t,r.typeKeyword.SINGLE_LAYER)}async function u(e,r){const l={layer:e,itemType:a,additionalItemType:s,validateLayer:o,createItemData:i,errorNamePrefix:n};return t.save(l,r)}async function c(e,r,s){const n={layer:e,itemType:a,validateLayer:o,createItemData:i,errorNamePrefix:l,newItem:r,setItemProperties:y};return t.saveAs(n,s)}e.save=u,e.saveAs=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
