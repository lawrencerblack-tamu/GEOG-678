/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../config","../kernel","../core/lang","../core/urlUtils","../support/apiKeyUtils"],(function(e,t,n,i,r,o){"use strict";function s(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function u(e){return"string"==typeof e?r.urlToObject(e):i.clone(e)}function l(e,t,n){const i={};for(const r in e){if("declaredClass"===r)continue;const o=e[r];if(null!=o&&"function"!=typeof o)if(Array.isArray(o))i[r]=o.map((e=>l({item:e},t,n).item));else if("object"==typeof o)if(o.toJSON){const e=o.toJSON(n?.[r]);i[r]=t?e:JSON.stringify(e)}else i[r]=t?o:JSON.stringify(o);else i[r]=o}return i}function c(e,i){return e?o.supportsApiKey(e)&&(i||t.apiKey)?i||t.apiKey:n.id?.findCredential(e)?.token:null}e.asValidOptions=s,e.encode=l,e.getToken=c,e.parseUrl=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
