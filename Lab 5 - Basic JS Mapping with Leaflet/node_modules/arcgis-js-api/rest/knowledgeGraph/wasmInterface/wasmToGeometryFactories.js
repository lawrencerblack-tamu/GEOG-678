/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../core/Error","../../../geometry/Multipoint","../../../geometry/Point","../../../geometry/Polygon","../../../geometry/Polyline","./KnowledgeWasmInterface"],(function(e,t,o,n,r,s,l){"use strict";function a(e,t){const n={spatialReference:t},r=u(e,n),s=e.lengths,l=e.coords,a=s[0];n.points=[];let i=0;for(let o=0;o<a;o++){const e=[];for(let t=0;t<r;t++)e[t]=l[i],i++;n.points.push(e)}return new o(n)}function i(e,t){const o={spatialReference:t};let r=2;u(e,o);const s=e.coords;return o.x=s[0],o.y=s[1],e.has_z&&(o.z=s[r],r++),e.has_m&&(o.m=s[r]),new n(o)}function m(e,t){return new s(c(e,t))}function y(e,t){return new r(c(e,t))}function c(e,o){const n={spatialReference:o},r=u(e,n),s=e.lengths,a=e.coords;let i="";if(e.geometry_type.value===l.WasmGeometryTypeCodes.ESRI_GEOMETRY_POLYGON)i="rings";else{if(e.geometry_type.value!==l.WasmGeometryTypeCodes.ESRI_GEOMETRY_POLYLINE)throw new t("KnowledgeGraph:illegal-geometry-type","Illegal Geometry type for multipath conversion");i="paths"}n[i]=[];let m=0;return s.forEach((e=>{const t=[];for(let o=0;o<e;o++){const e=[];for(let t=0;t<r;t++)e[t]=a[m],m++;t.push(e)}n[i].push(t)})),n}function u(e,t){let o=2;return e.has_z?(t.hasZ=e.has_z,o++):t.hasZ=!1,e.has_m?(t.hasM=e.has_m,o++):t.hasM=!1,o}e.wasmToMultipointGeometry=a,e.wasmToPointGeometry=i,e.wasmToPolygonGeometry=y,e.wasmToPolylineGeometry=m,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
