/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["../../../../chunks/tslib.es6","../../../../geometry","../../../../Viewpoint","../../../../core/Accessor","../../../../core/accessorSupport/decorators/property","../../../../core/has","../../../../core/Logger","../../../../core/RandomLCG","../../../../core/accessorSupport/decorators/subclass","../../../../core/libs/gl-matrix-2/math/vec2","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../viewpointUtils","../../../../geometry/Point"],(function(e,t,o,r,i,s,n,c,a,p,d,v,g){"use strict";const u=d.create(),h=d.create();let l=class extends r{constructor(e){super(e),this._previousCenter=d.create(),this.viewpoint=new o({targetGeometry:new g,scale:0,rotation:0})}begin(e,t){this.navigation.begin(),p.set(this._previousCenter,t.center.x,t.center.y)}update(e,t){const{state:{size:o,padding:r}}=e;p.set(u,t.center.x,t.center.y),v.getAnchor(h,o,r),e.viewpoint=v.rotateBy(this.viewpoint,e.state.paddedViewState.viewpoint,v.angleBetween(h,this._previousCenter,u)),p.copy(this._previousCenter,u)}end(){this.navigation.end()}};e.__decorate([i.property()],l.prototype,"viewpoint",void 0),e.__decorate([i.property()],l.prototype,"navigation",void 0),l=e.__decorate([a.subclass("esri.views.2d.actions.Rotate")],l);return l}));
