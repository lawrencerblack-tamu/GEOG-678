/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../core/screenUtils","../../../../geometry/Polygon","../../../../geometry/support/aaBoundingRect","../../../../geometry/support/spatialReferenceUtils","../../engine/webgl/definitions","../../engine/webgl/mesh/templates/shapingUtils"],(function(e,t,n,i,r,o,l){"use strict";const a=512,s=50;function g(e,t){const n=r.getInfo(t);if(!n)return null;const[o,l]=n.valid;return e[2]>l?[i.create([e[0],e[1],l,e[3]]),i.create([o,e[1],o+e[2]-l,e[3]])]:e[0]<o?[i.create([o,e[1],e[2],e[3]]),i.create([l-(o-e[0]),e[1],l,e[3]])]:null}function c(e){return"text"===e||"esriTS"===e}function p(e){return"simple-marker"===e||"picture-marker"===e||"esriSMS"===e||"esriPMS"===e}function f(e,n,i){if(!i.glyphs.length)return e;const r=l.shapeGlyphs(i,{scale:t.pt2px(n.font.size)/o.glyphSize,angle:n.angle??0,xOffset:n.xoffset??0,yOffset:n.yoffset??0,horizontalAlignment:n.horizontalAlignment??"center",verticalAlignment:n.verticalAlignment??"baseline",maxLineWidth:Math.max(32,Math.min(n.lineWidth||512,512)),lineHeight:o.magicLabelLineHeight*Math.max(.25,Math.min(n.lineHeight||1,4)),decoration:n.font.decoration||"none",useCIMAngleBehavior:!1,hasBackground:!!n.backgroundColor,borderLineSizePx:t.pt2px(n.borderLineSize)}).bounds;return e[0]=t.pt2px(r.x-r.halfWidth),e[1]=t.pt2px(r.y-r.halfHeight),e[2]=t.pt2px(r.width),e[3]=t.pt2px(r.height),e}function u(e){if(!e)return null;const{xmin:t,ymin:i,xmax:r,ymax:o,spatialReference:l}=e;return new n({rings:[[[t,i],[t,o],[r,o],[r,i],[t,i]]],spatialReference:l})}e.getTextSymbolSize=f,e.intersectingInternationalDateline=g,e.isMarkerSymbol=p,e.isTextSymbol=c,e.pixelBuffer=s,e.polygonFromExtent=u,e.tileSize=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
