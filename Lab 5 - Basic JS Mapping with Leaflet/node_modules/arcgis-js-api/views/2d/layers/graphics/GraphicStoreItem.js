/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../geometry/support/aaBoundingRect","../../../../geometry/support/coordsUtils","../../../../geometry/support/jsonUtils","../../../../geometry/support/normalizeUtilsSync","../../../../layers/graphics/data/projectionSupport","./graphicsUtils"],(function(t,e,s,i,r,o,n){"use strict";class a{static fromGraphic(t,e,s,i){return new a(t.geometry,e,t.attributes,t.visible,t.uid,s,i)}constructor(t,s,i,r,o,n,a){this.geometry=t,this.symbol=s,this.attributes=i,this.visible=r,this.objectId=o,this.zOrder=n,this.displayId=a,this.bounds=e.create(),this.prevBounds=e.create(),this.size=[0,0,0,0]}get linearCIM(){return this.symbolResource?.symbolInfo.linearCIM}update(t,s,i){return(this.geometry!==t.geometry||this.attributes!==t.attributes||this.symbol!==s||this.zOrder!==i||this.visible!==t.visible)&&(this.prevBounds=this.bounds,this.bounds=e.create(),this.zOrder=i,this.geometry=t.geometry,this.attributes=t.attributes,this.symbol=s,this.visible=t.visible,this.symbolResource=null,this.projectedGeometry=null,!0)}async projectAndNormalize(t){let e=this.geometry;if(!e||!e.spatialReference||"mesh"===e.type)return;"extent"===e.type&&(e=n.polygonFromExtent(e)),await o.checkProjectionSupport(e.spatialReference,t);const a=r.normalizeCentralMeridianForDisplay(e);if(!a)return;const l=o.project(a,e.spatialReference,t);l&&s.closeRingsAndFixWinding(l),this.projectedGeometry=i.isExtent(l)?n.polygonFromExtent(l):l}}t.GraphicStoreItem=a,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
