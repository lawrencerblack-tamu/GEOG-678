/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","./aspectProcessor","./bandArithmeticProcessor","./compositeBandProcessor","./contrastProcessor","./convolutionProcessor","./curvatureProcessor","./extractBandProcessor","./focalStatisticsProcessor","./grayscaleProcessor","./localProcessor","./maskProcessor","./ndviProcessor","./remapProcessor","./reprojectProcessor","./slopeProcessor","./stretchProcessor","../../../../webgl/enums","../../../../webgl/Texture","../../../../webgl/TextureDescriptor"],(function(e,t,r,o,s,c,n,a,i,u,l,p,d,m,P,x,T,g,f,b){"use strict";const h=new Map;function w(e,t){const r=new b.TextureDescriptor;return r.width=e,r.height=t,r.internalFormat=g.SizedPixelFormat.RGBA32F,r.samplingMode=g.TextureSamplingMode.NEAREST,r.dataType=g.PixelType.FLOAT,r.isImmutable=!0,r.wrapMode=g.TextureWrapMode.CLAMP_TO_EDGE,r}function y(e,t,r,o){const{context:s,requestRender:c,allowDelayedRender:n}=e,a=o.createProgram(e,r);return n&&null!=c&&!a.compiled?(c(),null):(s.bindFramebuffer(t),s.setViewport(0,0,t.width,t.height),s.useProgram(a),a)}function j(e){return h.get(e.toLowerCase())}function v(e,t,r,o){const s=e.rasterFunction.name.toLowerCase(),c="reproject"===s?P:j(s);if(null==c)return;const n=y(e,r,o,c);if(!n)return;c.bindTextureAndUniforms(e,n,o);const{interpolation:a}=o;"reproject"===s&&(o.interpolation="nearest"),t.draw();const[i,u]=o.getRasterTextureSize("reproject"===s),l=w(i,u),p=new f.Texture(e.context,l);if(r.copyToTexture(0,0,i,u,0,0,p),"reproject"===s)o.rasterTexture=p,o.projected=!0,o.interpolation=a;else{const t=e.hasBranches?e.rasterFunction.id:0;o.functionTextures[t]=p}}h.set("arithmetic",l),h.set("aspect",t),h.set("bandarithmetic",r),h.set("compositeband",o),h.set("convolution",c),h.set("contrastbrightness",s),h.set("curvature",n),h.set("extractband",a),h.set("statistics",i),h.set("grayscale",u),h.set("local",l),h.set("mask",p),h.set("ndvi",d),h.set("remap",m),h.set("slope",x),h.set("stretch",T),e.createTextureDescriptor=w,e.process=v,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
