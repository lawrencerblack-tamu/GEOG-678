/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../core/libs/gl-matrix-2/math/mat3","../DisplayObject","../../tiling/TileKey"],(function(t,e,i,s){"use strict";class r extends i.DisplayObject{constructor(t,e,i,r,n,o,h=n,l=o){super(),this.tileDebugInfoTexture=null,this.debugInfo={display:{length:0,minOrderedLength:0,minUnorderedLength:0,triangleCount:0},memory:{bytesUsed:0,bytesReserved:0}},this._destroyed=!1,this.key=new s(t),this.resolution=e,this.x=i,this.y=r,this.width=n,this.height=o,this.rangeX=h,this.rangeY=l}destroy(){this.tileDebugInfoTexture&&(this.tileDebugInfoTexture.dispose(),this.tileDebugInfoTexture=null),this._destroyed=!0}get debugSlot(){let t=this;for(;t.parent!==this._stage;){if(!t.parent)return 0;t=t.parent}return this._stage.children.indexOf(t)}setTransform(t){const i=this.resolution/(t.resolution*t.pixelRatio),s=this.transforms.tileMat3,[r,n]=t.toScreenNoRotation([0,0],[this.x,this.y]),o=this.width/this.rangeX*i,h=this.height/this.rangeY*i;e.set(s,o,0,0,0,h,0,r,n,1),e.multiply(this.transforms.displayViewScreenMat3,t.displayViewMat3,s)}get destroyed(){return this._destroyed}}t.TiledDisplayObject=r,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
