/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../../../geometry","../../../../../../geometry/support/jsonUtils","../../../../../../layers/support/FieldsIndex","../../mesh/MeshData","./mesh/AResourceProxy","./mesh/createMeshWriter","../../../../layers/features/support/ComputedAttributeStorage","../../../../layers/features/support/FeatureMetadata","../../../../layers/features/support/FeatureSetReaderJSON","../../../../../../geometry/SpatialReference"],(function(e,t,r,o,n,s,a,u,i,l,d){"use strict";async function c(e){const t=new n.MeshData("0.0.0.0"),s=new m,c={},p={fields:new o,spatialReference:d.WebMercator},y={$view:{scale:0,timeZone:null}},f=new u.ComputedAttributeStorage(p);for(const o of e){const e=await a.createMeshWriterDirect(f,s,o.technique.meshWriter.constructor,o.instanceId,{params:o.meshParams},c);o.feature.displayId=o.feature.attributes.objectId;const n=l.FeatureSetReaderJSON.fromFeatures([o.feature],new i.FeatureMetadata({fields:[],objectIdField:"objectId",geometryType:r.getJsonType(o.feature.geometry),globalIdField:null,spatialReference:null,subtypeField:null,subtypes:null,timeInfo:null,typeIdField:null,types:null,timeReferenceUnknownClient:!1}));n.next(),t.entityStart(n.getDisplayId(),0),e.write(t,s,n,y,0),t.entityEnd()}return t.serialize().message}class m extends s.AResourceProxy{fetchDictionaryResourceImmediate(e){throw new Error("Method not implemented.")}fetchResourceImmediate(e){throw new Error("Method not implemented.")}enqueueRequest(e){throw new Error("Method not implemented.")}fetchEnqueuedResources(){throw new Error("Method not implemented.")}getResource(e){throw new Error("Method not implemented.")}}e.createTestMeshData=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
