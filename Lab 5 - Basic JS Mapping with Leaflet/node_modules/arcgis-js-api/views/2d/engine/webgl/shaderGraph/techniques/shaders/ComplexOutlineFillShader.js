/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../../../../chunks/tslib.es6","../../GraphShaderModule","../../graph/glsl","./AFeatureShader","./ComplexFillShader","./hittestUtils","./LineShader","./LocalTileOffset","./MosaicInfo","./OutlineFillShader","./PatternOutlineFillShader"],(function(t,e,o,l,i,a,r,n,s,p,u,c){"use strict";const d=16,h=1/d,_=128;class f extends i.FeatureVertexInput{}e.__decorate([o.location(3,l.Vec4)],f.prototype,"color",void 0),e.__decorate([o.location(4,l.Vec4)],f.prototype,"tlbr",void 0),e.__decorate([o.location(5,l.Float)],f.prototype,"angle",void 0),e.__decorate([o.location(6,l.Float)],f.prototype,"aux1",void 0),e.__decorate([o.location(7,l.Float)],f.prototype,"aux2",void 0),e.__decorate([o.location(8,l.Vec2)],f.prototype,"aux3",void 0),e.__decorate([o.location(9,l.Vec2)],f.prototype,"aux4",void 0),e.__decorate([o.location(10,l.Vec2)],f.prototype,"zoomRange",void 0);class m extends c.PatternOutlineFillFragmentInput{}class x extends u.AOutlineFillShader{vertex(t,e){const{aux1:o,aux2:i,aux3:r,aux4:n}=t,s={...t,width:o,height:i,offset:r,scale:n.multiply(h)},p={...t,halfWidth:o.multiply(h),referenceHalfWidth:i.multiply(h),offset:r.multiply(h),normal:n.subtract(_).multiply(h)},c=u.getOutlineFillVertexData(this,p),d=a.getComplexFillVertexData(this,s),f=l.greaterThan(c.isOutline,new l.Float(.5));return{...c,...d,...this.maybeRunHittest(t,e,f)}}fragment(t){const{isOutline:e}=t,o=l.greaterThan(e,new l.Float(.5)),i=n.getLineFragmentColor(t,this.antialiasingControls.blur),r=a.getComplexFillFragmentColor(this,t),s=l.ifElse(o,i,r),p=l.ifElse(o,new l.Float(1/255),new l.Float(0));return this.getFragmentOutput(s,t,p)}hittest(t,e,o){return l.ifElse(o,r.failHittest(this.hittestRequest),r.hittestFill(this,t,e))}}e.__decorate([o.uniform(p.MosaicInfo)],x.prototype,"mosaicInfo",void 0),e.__decorate([o.uniform(s.LocalTileOffset)],x.prototype,"localTileOffset",void 0),e.__decorate([e.__param(0,o.input(f)),e.__param(1,o.input(i.BaseHittestVertexInput))],x.prototype,"vertex",null),e.__decorate([e.__param(0,o.input(m))],x.prototype,"fragment",null),t.ComplexOutlineFillShader=x,t.ComplexOutlineFillVertexInput=f,t.packPrecision=d,t.signedToUnsignedByte=_,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
