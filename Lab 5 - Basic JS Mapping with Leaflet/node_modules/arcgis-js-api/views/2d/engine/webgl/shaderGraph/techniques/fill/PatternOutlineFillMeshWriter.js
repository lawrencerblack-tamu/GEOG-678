/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../../../../geometry/GeometryCursor","./OutlineFillMeshWriter","./PatternFillMeshWriter"],(function(e,t,r,i){"use strict";const s={createComputedParams:e=>e,attributes:{...i.patternFillVertexSpec.attributes,...r.outlineFillVertexSpec_Fill.attributes}},n={createComputedParams:e=>e,attributes:{...i.patternFillVertexSpec.attributes,...r.outlineFillVertexSpec_Outline.attributes}};class l extends r.OutlineFillOutlineMeshWriter{constructor(){super(...arguments),this.vertexSpec=n}}class u extends r.OutlineFillMeshWriter{constructor(){super(...arguments),this.vertexSpec=s}_createOutlineWriter(e,t,r,i){return new l(e,t,r,i)}_write(e,r,i){const s=i?.asOptimized()??r.readGeometryForDisplay(),n=this._clip(s);if(!n)return;const l=this.evaluatedMeshParams.sprite?.textureBinding;e.recordStart(this.instanceId,this.attributeLayout,l),this._writeGeometry(e,r,n),this._lineMeshWriter.writeLineVertices(e,t.GeometryCursor.fromOptimizedCIM(n,"esriGeometryPolyline"),r),e.recordEnd()}ensurePacked(e,t,r){super.ensurePacked(e,t,r),this._lineMeshWriter.ensurePacked(e,t,r)}enqueueRequest(e,t,r){super.enqueueRequest(e,t,r),this._lineMeshWriter.enqueueRequest(e,t,r)}async loadDependencies(){await Promise.all([super.loadDependencies(),this._lineMeshWriter.loadDependencies()])}}e.PatternOutlineFillMeshWriter=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
