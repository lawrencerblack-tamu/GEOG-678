/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../../../../chunks/tslib.es6","../../GraphShaderModule","../../graph/glsl"],(function(o,e,t,r){"use strict";class a extends t.UniformGroup{}e.__decorate([t.uniform(r.Float)],a.prototype,"zoomLevel",void 0);class l extends t.UniformGroup{getColor(o){const e=this.validValues.findIndex((e=>r.equal(e,o)));return r.ifElse(r.equal(e,new r.Int(-1)),this.colorFallback,this.color)}}e.__decorate([t.uniform(r.Vec4)],l.prototype,"color",void 0),e.__decorate([t.uniform(r.Vec4)],l.prototype,"colorFallback",void 0),e.__decorate([t.uniform(r.FixedArray.ofType(r.Float,4))],l.prototype,"validValues",void 0);class n extends t.VertexInput{}e.__decorate([t.location(0,r.Vec2)],n.prototype,"pos",void 0),e.__decorate([t.location(1,r.Vec3)],n.prototype,"id",void 0),e.__decorate([t.location(2,r.Float)],n.prototype,"bitset",void 0),e.__decorate([t.location(3,r.Vec2)],n.prototype,"offset",void 0),e.__decorate([t.location(4,r.Float)],n.prototype,"size",void 0),e.__decorate([t.location(5,r.Vec4)],n.prototype,"color",void 0);class i extends t.FragmentInput{}class d extends t.GraphShaderModule{vertex(o){const{size:e,offset:t,pos:a}=o;let l=o.color;this.dataDrivenColor&&(l=this.dataDrivenColor.getColor(new r.Float(1)));const n=t.multiply(e);return{glPosition:new r.Vec4(a.add(n),0,1),color:l,offset:t}}fragment(o){const e=new t.FragmentOutput,{offset:a}=o;return e.discard=r.and(r.greaterThan(a.x,new r.Float(-.5)),r.greaterThan(a.y,new r.Float(-.5)),r.lessThan(a.x,new r.Float(.5)),r.lessThan(a.y,new r.Float(.5))),this.returnRed?e.glFragColor=new r.Vec4(1,0,0,1):e.glFragColor=o.color,e}}e.__decorate([t.option(l)],d.prototype,"dataDrivenColor",void 0),e.__decorate([t.uniform(a)],d.prototype,"view",void 0),e.__decorate([t.define],d.prototype,"returnRed",void 0),e.__decorate([e.__param(0,t.input(n))],d.prototype,"vertex",null),e.__decorate([e.__param(0,t.input(i))],d.prototype,"fragment",null),o.DataDrivenColorByValueMatch=l,o.TestShader=d,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));
