/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../../../../geometry/GeometryCursor","../../../definitions","../fill/meshWriterUtils","./LineMeshWriter","../shaders/constants","../../../../../../webgl/enums"],(function(e,t,i,s,r,n,a){"use strict";const c={createComputedParams:e=>e,attributes:{...r.LineVertexSpec.attributes,bitset:{type:a.DataType.UNSIGNED_BYTE,count:1,pack:({shouldSampleAlphaOnly:e,shouldScaleDash:t,isSDF:i})=>s.packBitset([[n.bitsetGenericConsiderAlphaOnly,e],[n.bitsetLineScaleDash,t],[n.bitsetLineIsSdf,i]])},tlbr:{type:a.DataType.UNSIGNED_SHORT,count:4,pack:({sprite:e})=>{const{rect:t,width:s,height:r}=e,n=t.x+i.spritePadding,a=t.y+i.spritePadding;return[n,a,n+s,a+r]}},accumulatedDistance:{type:a.DataType.UNSIGNED_SHORT,count:1,packTessellation:({distance:e})=>e},segmentDirection:{type:a.DataType.BYTE,count:2,packPrecisionFactor:16,packTessellation:({directionX:e,directionY:t})=>[e,t]}}};class o extends r.LineMeshWriter{constructor(e,t,i,s){super(e,t,i,s),this.vertexSpec=c,this._tessellationOptions.textured=!0}_write(e,i,s){const r=s??t.GeometryCursor.fromFeatureSetReaderCIM(i);if(!r)return;const{sprite:n}=this.evaluatedMeshParams;this._writeGeometry(e,i,r,n?.textureBinding)}}e.TexturedLineMeshWriter=o,e.texturedLineVertexSpec=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
