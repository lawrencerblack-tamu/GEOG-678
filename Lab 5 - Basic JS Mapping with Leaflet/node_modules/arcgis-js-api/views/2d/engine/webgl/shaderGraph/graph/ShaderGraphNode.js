/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports"],(function(t){"use strict";function e(t){return t.split(" ").map(((t,e)=>e>0?t.charAt(0).toUpperCase()+t.slice(1):t)).join("")}function s(t,e){const s=[];for(s.push(e);s.length;){const e=s.pop();if("object"==typeof e&&!t.has(e.uid)){t.add(e.uid);for(const t of e.children)s.push(t)}}}class i{constructor(){this.uid=i.NodeCount++,this._debugName=null,this._isMutable=!1,this.isImplicit=!1}get isMutable(){return this._isMutable}setMutable(){return this._isMutable=!0,this}setDebugName(t){return t=e(t),this._debugName=t,this.isImplicit&&this.children[0]instanceof i&&this.children[0].setDebugName(t),this}get debugInfo(){return{name:this._debugName??""}}cloneInto(t){t._debugName=this._debugName,t._isMutable=this._isMutable,t.isImplicit=this.isImplicit,t.uid=this.uid}}function r(t){return"object"==typeof t?t.clone():t}i.NodeCount=0;class n extends i{constructor(){super(...arguments),this.shaderType="primitive-node"}}class h extends i{constructor(t){super(),this.child=t,this.shaderType="scope-node"}get children(){return[this.child]}clone(){const t=new h(r(this.child));return this.cloneInto(t),t}}class o extends i{constructor(t){super(),this.text=t,this.shaderType="text-node"}get children(){return[]}clone(){const t=new o(this.text);return this.cloneInto(t),t}}class c extends i{constructor(t,e,s){super(),this.property=t,this.target=e,this.returnType=s,this.shaderType="property-access-node"}get children(){const t=[this.target];return"string"!=typeof this.property&&t.push(this.property),t}clone(){const t=new c(this.property,r(this.target),this.returnType);return this.cloneInto(t),t}}class u extends i{constructor(t,e,s){super(),this.condition=t,this.ifTrue=e,this.ifFalse=s,this.shaderType="condition-node"}get children(){return[this.condition,this.ifTrue,this.ifFalse]}clone(){const t=r(this.ifTrue),e=this.ifFalse?r(this.ifFalse):null,s=new u(this.condition,t,e);return this.cloneInto(s),s}}class d extends i{constructor(t,e,s,i){super(),this.captureList=t,this.returnType=e,this.generator=i,this.shaderType="block-node",s&&(this.subgraph=new h(s))}get children(){return Object.keys(this.captureList).map((t=>this.captureList[t])).concat(this.subgraph??[])}clone(){const t={};for(const s in this.captureList)t[s]=r(this.captureList[s]);const e=new d(t,this.returnType,this.subgraph?r(this.subgraph.child):this.subgraph,this.generator);return this.cloneInto(e),e}}class a extends i{constructor(t,e,s,i,r,n=!1){super(),this.token=t,this._children=e,this.isInfix=s,this.isPropertyAccess=i,this.returnType=r,this.isTernary=n,this.shaderType="function-node"}get children(){return this._children}clone(){const t=new a(this.token,this._children.map(r),this.isInfix,this.isPropertyAccess,this.returnType,this.isTernary);return this.cloneInto(t),t}}t.ShaderBlockNode=d,t.ShaderConditionNode=u,t.ShaderFunctionNode=a,t.ShaderNode=i,t.ShaderPrimitiveNode=n,t.ShaderPropertyAccessNode=c,t.ShaderScopeNode=h,t.ShaderTextNode=o,t.cloneShaderNode=r,t.setReachableUids=s,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
