/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../../../../Color","../../../../../../../core/Error","../../../../../../../core/Logger","../../../../../../../symbols/cim/enums"],(function(e,n,t,r,o){"use strict";const i=()=>r.getLogger("esri.views.2d.engine.webgl.shaderGraph.techniques.meshWriterUtils"),c=0,s=100;function a(e,n){return[!!e?.minScale&&n.scaleToZoom(e.minScale)||c,!!e?.maxScale&&n.scaleToZoom(e.maxScale)||s]}function u(e){return 1<<e}function l(e){let n=0;for(const[t,r]of e)r&&(n|=1<<t);return n}function p(e){let r;if(!e)return[0,0,0,0];if("string"==typeof e){const o=n.fromString(e);if(!o)return i().errorOnce(new t("mapview:mesh-processing","Unable to parse string into color",{color:e})),[0,0,0,0];r=o.toArray()}else r=e;const[o,c,s,a]=r;return[o*(a/255),c*(a/255),s*(a/255),a]}function f(e){switch(e){case"butt":case o.LineCapStyle.Butt:return o.CapType.BUTT;case"round":case o.LineCapStyle.Round:return o.CapType.ROUND;case"square":case o.LineCapStyle.Square:return o.CapType.SQUARE}}function y(e){switch(e){case"bevel":case o.LineJoinStyle.Bevel:return o.JoinType.BEVEL;case"miter":case o.LineJoinStyle.Miter:return o.JoinType.MITER;case"round":case o.LineJoinStyle.Round:return o.JoinType.ROUND}}function m(e,n){return Math.round(Math.min(Math.sqrt(e*n),255))}function S(e,n){return Math.round(e*n)/n}function g(e,n){return Math.ceil(e*n)/n}e.getBitMask=u,e.getMinMaxZoom=a,e.packBitset=l,e.packByteSqrt=m,e.packCeil=g,e.packRounded=S,e.processColorInput=p,e.processLineCapInput=f,e.processLineJoinInput=y,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
