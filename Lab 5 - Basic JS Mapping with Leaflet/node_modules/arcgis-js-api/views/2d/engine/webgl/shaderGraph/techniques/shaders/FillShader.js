/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../../../../chunks/tslib.es6","../../GraphShaderModule","../../graph/glsl","./AFeatureShader","./hittestUtils","./VisualVariableColor","./VisualVariableOpacity","./vvUtils"],(function(t,e,o,a,i,r,l,s,n){"use strict";class p extends i.FeatureVertexInput{}e.__decorate([o.location(3,a.Vec4)],p.prototype,"color",void 0),e.__decorate([o.location(4,a.Vec2)],p.prototype,"zoomRange",void 0);class u extends i.AFeatureShader{constructor(){super(...arguments),this.computeAttributes={pos:["nextPos1","nextPos2"]}}vertex(t,e){const o=n.getVisualVariableOpacity(this,t.id),i=n.getVisualVariableColor(this,t.id,t.color).multiply(o),r=this.view.displayViewScreenMat3.multiply(new a.Vec3(t.pos.xy,1)),l=this.clip(t.id,t.zoomRange);return{glPosition:new a.Vec4(r.xy,l,1),color:i,...this.maybeRunHittest(t,e,null)}}fragment(t){return this.getFragmentOutput(t.color,t,new a.Float(0))}hittest(t,e){return r.hittestFill(this,t,e)}}e.__decorate([o.option(l.VisualVariableColor)],u.prototype,"visualVariableColor",void 0),e.__decorate([o.option(s.VisualVariableOpacity)],u.prototype,"visualVariableOpacity",void 0),e.__decorate([e.__param(0,o.input(p)),e.__param(1,o.input(i.BaseHittestVertexInput))],u.prototype,"vertex",null),e.__decorate([e.__param(0,o.input(i.FeatureFragmentInput))],u.prototype,"fragment",null),t.FillShader=u,t.FillVertexInput=p,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
