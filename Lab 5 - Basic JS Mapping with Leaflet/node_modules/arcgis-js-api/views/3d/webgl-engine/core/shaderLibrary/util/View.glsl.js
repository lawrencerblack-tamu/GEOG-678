/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../../../core/libs/gl-matrix-2/math/mat4","../../../../../../core/libs/gl-matrix-2/factories/mat4f64","../../../../../../chunks/vec32","../../../../../../core/libs/gl-matrix-2/factories/vec3f64","../../shaderModules/Float3DrawUniform","../../shaderModules/Float3PassUniform","../../shaderModules/FloatPassUniform","../../shaderModules/Matrix4DrawUniform","../../shaderModules/Matrix4PassUniform"],(function(a,r,e,i,o,n,s,t,c,m){"use strict";function d(a,r){r.instancedDoublePrecision?a.constants.add("cameraPosition","vec3",o.ZEROS):a.uniforms.add(new n.Float3DrawUniform("cameraPosition",((a,r)=>i.set(w,r.camera.viewInverseTransposeMatrix[3]-a.origin[0],r.camera.viewInverseTransposeMatrix[7]-a.origin[1],r.camera.viewInverseTransposeMatrix[11]-a.origin[2]))))}function l(a,e){if(!e.instancedDoublePrecision)return void a.uniforms.add(new m.Matrix4PassUniform("proj",((a,r)=>r.camera.projectionMatrix)),new c.Matrix4DrawUniform("view",((a,e)=>r.translate(f,e.camera.viewMatrix,a.origin))),new n.Float3DrawUniform("localOrigin",(a=>a.origin)));const o=a=>i.set(w,a.camera.viewInverseTransposeMatrix[3],a.camera.viewInverseTransposeMatrix[7],a.camera.viewInverseTransposeMatrix[11]);a.uniforms.add(new m.Matrix4PassUniform("proj",((a,r)=>r.camera.projectionMatrix)),new m.Matrix4PassUniform("view",((a,e)=>r.translate(f,e.camera.viewMatrix,o(e)))),new s.Float3PassUniform("localOrigin",((a,r)=>o(r))))}const f=e.create(),w=o.create();function v(a){a.uniforms.add(new m.Matrix4PassUniform("viewNormal",((a,r)=>r.camera.viewInverseTransposeMatrix)))}function x(a){a.uniforms.add(new t.FloatPassUniform("pixelRatio",((a,r)=>r.camera.pixelRatio/r.overlayStretch)))}a.addCameraPosition=d,a.addPixelRatio=x,a.addProjViewLocalOrigin=l,a.addViewNormal=v,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})}));
