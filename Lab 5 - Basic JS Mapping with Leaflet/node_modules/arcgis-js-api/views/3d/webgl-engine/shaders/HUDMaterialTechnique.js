/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["require","exports","../../../ViewingMode","../core/shaderLibrary/ShaderOutput","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../lib/DefaultVertexAttributeLocations","../lib/OrderIndependentTransparency","../lib/Program","../lib/TransparencyPassType","../../../../chunks/HUDMaterial.glsl","../../../webgl/enums","../../../webgl/renderState"],(function(e,t,i,r,a,n,l,o,u,s,d,c,p){"use strict";class h extends n.ShaderTechnique{initializeConfiguration(e,t){t.spherical=e.viewingMode===i.ViewingMode.Global}initializeProgram(e){return new u.Program(e.rctx,h.shader.get().build(this.configuration),l.Default3D)}initializePipeline(){const e=this.configuration.transparencyPassType,t=this.configuration,i=e===s.TransparencyPassType.NONE,a=e===s.TransparencyPassType.FrontFace,n=this.configuration.hasPolygonOffset?g:null,l=t.draped?null:(i||a)&&t.output!==r.ShaderOutput.Highlight&&(t.depthEnabled||t.occlusionPass)?p.defaultDepthWriteParams:null;return p.makePipelineState({blending:t.output===r.ShaderOutput.Color||t.output===r.ShaderOutput.Alpha||t.output===r.ShaderOutput.Highlight?i?P:o.oitBlending(e):null,depthTest:t.draped?null:{func:c.CompareFunction.LEQUAL},depthWrite:l,colorWrite:p.defaultColorWriteParams,polygonOffset:n})}get primitiveType(){return this.configuration.occlusionPass?c.PrimitiveType.POINTS:c.PrimitiveType.TRIANGLES}}h.shader=new a.ReloadableShaderModule(d.HUDMaterial,(()=>new Promise(((t,i)=>e(["./HUDMaterial.glsl"],t,i)))));const g={factor:0,units:-4},P=p.simpleBlendingParams(c.BlendFactor.ONE,c.BlendFactor.ONE_MINUS_SRC_ALPHA);t.HUDMaterialTechnique=h,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
