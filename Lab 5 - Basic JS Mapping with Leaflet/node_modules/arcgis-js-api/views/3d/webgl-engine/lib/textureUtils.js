/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../core/Error"],(function(t,e){"use strict";const n=16;function o(t){return Math.ceil(t/n)*n}function i(t){return Math.floor(t/n)*n}function r(t,e){const n=1048576,o=4096,i=2;let r=t.width*t.height;if(r<o)return t instanceof ImageData?u(t):t;let a=t.width,c=t.height;do{a=Math.ceil(a/i),c=Math.ceil(c/i),r=a*c}while(r>n||null!=e&&(a>e||c>e));return h(t,a,c)}function a(t,e){const n=Math.max(t.width,t.height);if(n<=e)return t;const o=e/n;return h(t,Math.round(t.width*o),Math.round(t.height*o))}function h(t,e,n){if(t instanceof ImageData)return h(u(t),e,n);const o=document.createElement("canvas");o.width=e,o.height=n;return o.getContext("2d").drawImage(t,0,0,o.width,o.height),o}function u(t){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const o=n.getContext("2d");if(null==o)throw new e("Failed to create 2d context from HTMLCanvasElement");return o.putImageData(t,0,0),n}t.applyTextureResizeFloorModulo=i,t.applyTextureResizeModulo=o,t.downsampleImage=r,t.ensureImageMaxSize=a,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
