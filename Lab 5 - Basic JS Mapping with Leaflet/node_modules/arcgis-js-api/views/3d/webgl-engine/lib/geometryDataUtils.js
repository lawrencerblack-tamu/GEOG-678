/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/triangle"],(function(e,t,n,s){"use strict";function c(e,n){if(!e)return!1;const{size:c,data:a,indices:i}=e;t.set(n,0,0,0),t.set(l,0,0,0);let u=0,f=0;for(let g=0;g<i.length-2;g+=3){const e=i[g]*c,m=i[g+1]*c,h=i[g+2]*c;t.set(r,a[e],a[e+1],a[e+2]),t.set(o,a[m],a[m+1],a[m+2]),t.set(d,a[h],a[h+1],a[h+2]);const p=s.areaPoints3d(r,o,d);p?(t.add(r,r,o),t.add(r,r,d),t.scale(r,r,1/3*p),t.add(n,n,r),u+=p):(t.add(l,l,r),t.add(l,l,o),t.add(l,l,d),f+=3)}return(0!==f||0!==u)&&(0!==u?(t.scale(n,n,1/u),!0):0!==f&&(t.scale(n,l,1/f),!0))}function a(e,n){if(!e)return!1;const{size:s,data:c,indices:a}=e;t.set(n,0,0,0);let i=-1,r=0;for(let t=0;t<a.length;t++){const e=a[t]*s;i!==e&&(n[0]+=c[e],n[1]+=c[e+1],n[2]+=c[e+2],r++),i=e}return r>1&&t.scale(n,n,1/r),r>0}function i(e,n,s){if(!e)return!1;t.set(s,0,0,0),t.set(l,0,0,0);let c=0,a=0;const{size:i,data:d,indices:u}=e,f=u.length-1,g=f+(n?2:0);for(let m=0;m<g;m+=2){const e=m<f?m+1:0,n=u[m<f?m:f]*i,g=u[e]*i;r[0]=d[n],r[1]=d[n+1],r[2]=d[n+2],o[0]=d[g],o[1]=d[g+1],o[2]=d[g+2],t.scale(r,t.add(r,r,o),.5);const h=t.dist(r,o);h>0?(t.add(s,s,t.scale(r,r,h)),c+=h):0===c&&(t.add(l,l,r),a++)}return 0!==c?(t.scale(s,s,1/c),!0):0!==a&&(t.scale(s,l,1/a),!0)}const r=n.create(),o=n.create(),d=n.create(),l=n.create();e.computeAttachmentOriginLines=i,e.computeAttachmentOriginPoints=a,e.computeAttachmentOriginTriangles=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
