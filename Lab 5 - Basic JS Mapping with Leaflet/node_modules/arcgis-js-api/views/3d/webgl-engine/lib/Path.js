/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../core/typedArrayUtil","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/FloatArray"],(function(t,i,e,s,o){"use strict";class h{constructor(t,i,e,h){this.vertices=t,this.positionsES=i,this.offset=h;const n=t.length,r=Math.floor(n/2),g=this.offset+3*r,l=e[g],v=e[g+1],f=e[g+2];this.origin=s.fromValues(l,v,f),this.positions=o.newFloatArray(3*n);const a=this.offset+3*n;for(let s=this.offset;s<a;s+=3)this.positions[s]=e[s]-l,this.positions[s+1]=e[s+1]-v,this.positions[s+2]=e[s+2]-f;this.updatePathVertexInformation()}get usedMemory(){return i.estimateSize(this.positions)}updatePathVertexInformation(){const t=this.vertices.length,i=this.vertices[0];let s=this.offset;const o=this.positions;i.vRight[0]=o[s+3]-o[s],i.vRight[1]=o[s+4]-o[s+1],i.vRight[2]=o[s+5]-o[s+2],s+=3;let h=e.length(i.vRight);i.vMinSiblingLength=h,e.normalize(i.vRight,i.vRight);let n=i;for(let r=1;r<t;++r){const i=this.vertices[r];if(i.vLeft=n.vRight,r<t-1){i.vRight[0]=o[s+3]-o[s],i.vRight[1]=o[s+4]-o[s+1],i.vRight[2]=o[s+5]-o[s+2];const t=e.length(i.vRight);i.vMinSiblingLength=Math.min(h,t),h=t,e.normalize(i.vRight,i.vRight)}else e.copy(i.vRight,i.vLeft),i.vMinSiblingLength=h;n=i,s+=3}}}t.Path=h,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
