/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../../core/mathUtils","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/FloatArray"],(function(t,e,r,n,o){"use strict";function a(t,e,r,n,o,a=2){const s=1/(Math.abs(r)+Math.abs(n)+Math.abs(o)),c=r*s,l=n*s,m=o<=0?(c>=0?1:-1)*(1-Math.abs(l)):c,f=o<=0?(l>=0?1:-1)*(1-Math.abs(c)):l,i=e*a;t[i]=u(m),t[i+1]=u(f)}function s(t){const e=t.length/3,r=new Int16Array(2*e);let n=0;for(let o=0;o<e;++o)a(r,o,t[n++],t[n++],t[n++]);return r}function c(t,e){const o=t.length/3,s=new Int16Array(2*o);let c=0;const l=n.create();for(let n=0;n<o;++n)l[0]=t[c++],l[1]=t[c++],l[2]=t[c++],r.transformMat3(l,l,e),a(s,n,l[0],l[1],l[2]);return s}function l(t,e,n,o=2){const a=n*o,s=f(e[a]),c=f(e[a+1]),l=1-Math.abs(s)-Math.abs(c);t[2]=l,l<0?(t[0]=(s>=0?1:-1)*(1-Math.abs(c)),t[1]=(c>=0?1:-1)*(1-Math.abs(s))):(t[0]=s,t[1]=c),r.normalize(t,t)}function m(t,e=2){const r=t.length/e,a=o.newFloatArray(3*r),s=n.create();let c=0;for(let n=0;n<r;++n)l(s,t,n,e),a[c++]=s[0],a[c++]=s[1],a[c++]=s[2];return a}function u(t){return e.clamp(Math.round(32767*t),-32767,32767)}function f(t){return e.clamp(t/32767,-1,1)}t.compressAndTransformNormals=c,t.compressNormal=a,t.compressNormals=s,t.decodeInt16=f,t.decompressNormal=l,t.decompressNormals=m,t.encodeInt16=u,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
