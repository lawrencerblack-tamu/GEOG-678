/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../core/libs/gl-matrix-2/factories/vec2f64","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64","../../../geometry/support/plane"],(function(t,e,r,n,i){"use strict";function c(t,e,r){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]<r}function u(t,e,r){const n=e[0],i=e[1],c=e[2];return!(t[0][0]*n+t[0][1]*i+t[0][2]*c+t[0][3]>r)&&(!(t[1][0]*n+t[1][1]*i+t[1][2]*c+t[1][3]>r)&&(!(t[2][0]*n+t[2][1]*i+t[2][2]*c+t[2][3]>r)&&(!(t[3][0]*n+t[3][1]*i+t[3][2]*c+t[3][3]>r)&&(!(t[4][0]*n+t[4][1]*i+t[4][2]*c+t[4][3]>r)&&!(t[5][0]*n+t[5][1]*i+t[5][2]*c+t[5][3]>r)))))}function o(t,e,r,n){return m(t,e,null,d(n,e,r,!1))}function l(t,e){for(let r=0;r<6;r++){if(i.signedDistance(t[r],e)>0)return!1}return!0}function s(t,e,r,n){return m(t,e,r,d(n,e,r,!0))}function f(t,e,n,i){const c=r.dot(n,r.subtract(t,i,e));return r.add(t,e,r.scale(t,n,c))}const a={dir:n.create(),len:0,clip:e.create()};function d(t,e,n,i){const c=a;return t?(n&&i&&(c.len=r.distance(e,n)),r.copy(c.dir,t)):i?(c.len=r.distance(e,n),r.subtract(c.dir,n,e),r.scale(c.dir,c.dir,1/c.len)):(r.subtract(c.dir,n,e),r.normalize(c.dir,c.dir)),c}function p(t,e,n){const c=r.dot(i.getNormal(t),n.dir),u=-i.signedDistance(t,e);if(u<0&&c>=0)return!1;if(c>-1e-6&&c<1e-6)return u>0;if((u<0||c<0)&&!(u<0&&c<0))return!0;const o=u/c;return c>0?o<n.clip[1]&&(n.clip[1]=o):o>n.clip[0]&&(n.clip[0]=o),n.clip[0]<=n.clip[1]}function m(t,e,r,n){n.clip[0]=0,n.clip[1]=r?n.len:Number.MAX_VALUE;for(let i=0;i<t.length;i++)if(!p(t[i],e,n))return!1;return!0}t.closestPointOnRay=f,t.frustumLineSegment=s,t.frustumPoint=l,t.frustumRay=o,t.frustumSphere=u,t.planeSphere=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
