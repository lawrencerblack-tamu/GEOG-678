/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../core/libs/gl-matrix-2/factories/vec3f64","../../../layers/graphics/dehydratedPoint","../../../support/elevationInfoUtils"],(function(e,t,n,o){"use strict";function r(e,n,o){return t.fromValues(e,n,o)}function l(e){return e}function i(e){return e}function u(e){return t.clone(e)}function a(e,n,o){return l(t.fromValues(e,n,o))}function f(e){return t.clone(e)}function c(e,t,{coordinateHelper:n,elevationInfo:o}){return e?s(n.vectorToDehydratedPoint(e,y),t,o):null}function s(e,n,r){if(null==e)return null;if(null==n)return l(t.fromValues(e.x,e.y,e.z??0));if("2d"===n.type)return l(t.fromValues(e.x,e.y,0));const i=o.getConvertedElevation(n,e,r,o.absoluteHeightElevationInfo)??0;return l(t.fromValues(e.x,e.y,i))}function d(e,t){return n.makeDehydratedPoint(e[0],e[1],e[2],t)}function m(e,t,{z:r,m:l},i){const{spatialReference:u,elevationInfo:a}=i;let f;if(null==r&&null==l)f=void 0;else if(null==t||"2d"===t.type)f=r??void 0;else{const n=o.absoluteHeightElevationInfo;f=o.getConvertedElevationFromVector(t,e,u,n,a)??0}const c=n.makeDehydratedPoint(e[0],e[1],f,u);return null!=l&&(c.m=l,c.hasM=!0),c}const y=n.makeDehydratedPoint(0,0,0,null);e.asVec2=i,e.clone=f,e.create=r,e.fromAnyMapPoint=c,e.fromPoint=s,e.fromValues=a,e.fromVec3=l,e.toDehydratedPoint=d,e.toElevationAlignedDehydratedPoint=m,e.toWritableVec3=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
