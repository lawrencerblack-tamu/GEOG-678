/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../core/Error","./enums"],(function(e,t,r){"use strict";class o{constructor(e,t,r,o){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=o}}function a(e,a){const{textureFloat:l,colorBufferFloat:i}=e.capabilities,n=l?.textureFloatLinear,f=i?.textureFloat,s=i?.textureHalfFloat,u=i?.floatBlend,m=e.driverTest.floatBufferBlend.result;if(!f&&!s)throw new t("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(u&&m||s))throw new t("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(m?"":" This device claims support for EXT_float_blend, but does not actually support it."));const d=f&&u&&m,x=s,p=n,c=!!i?.R32F,F=!!i?.R16F;if(d&&p)return p||a.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new o(r.PixelType.FLOAT,p?r.TextureSamplingMode.LINEAR:r.TextureSamplingMode.NEAREST,c?r.PixelFormat.RED:r.PixelFormat.RGBA,c?r.SizedPixelFormat.R32F:r.PixelFormat.RGBA);if(x)return new o(r.PixelType.HALF_FLOAT,r.TextureSamplingMode.LINEAR,F?r.PixelFormat.RED:r.PixelFormat.RGBA,F?r.SizedPixelFormat.R16F:r.PixelFormat.RGBA);throw new t("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}e.HeatmapTextureConfiguration=o,e.loadHeatmapTextureConfiguration=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
