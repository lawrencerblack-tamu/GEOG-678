/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","./contextUtils"],(function(e,t){"use strict";let r;function o(){return r||(r=a()),r}class n{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}function l(e){if("undefined"==typeof WebGL2RenderingContext)return null;const r=document.createElement("canvas");if(!r)return null;let o=t.createContext(r,{failIfMajorPerformanceCaveat:!0});if(null==o&&(o=t.createContext(r),null!=o&&(e.majorPerformanceCaveat=!0)),null==o)return o;e.available=!0,e.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=o.getParameter(o.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=o.getShaderPrecisionFormat(o.FRAGMENT_SHADER,o.HIGH_FLOAT);return n&&(e.supportsHighPrecisionFragment=n.precision>0),o}function a(){const e=new n,t=l(e);return null==t||(e.supportsColorBufferFloat=null!==t.getExtension("EXT_color_buffer_float"),e.supportsColorBufferFloatBlend=null!==t.getExtension("EXT_float_blend"),e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||null!==t.getExtension("EXT_color_buffer_half_float")),e}e.getWebGLCapabilities=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
