/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../geometry","../../core/quantityUtils","../../core/libs/gl-matrix-2/factories/vec3f64","../../geometry/geometryEngine","../../geometry/projection/projectPolylineToWGS84ComparableLonLat","../../geometry/projection/projectVectorToWGS84ComparableLonLat","../../geometry/support/geodesicUtils","../../geometry/support/spatialReferenceUtils","./geodesicMeasurementUtils","../../geometry/SpatialReference"],(function(e,t,r,n,o,c,i,s,a,l,u){"use strict";function g(e){const{spatialReference:t}=e;return l.geodesicMeasure(t,y,h,S,e)}function p(e,t){if(!a.equals(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return b[0]=e.x,b[1]=e.y,b[2]=e.hasZ?e.z:0,j[0]=t.x,j[1]=t.y,j[2]=t.hasZ?t.z:0,f(b,j,r)}function f(e,t,r){return l.geodesicMeasure(r,m,d,L,e,t,r)}function m(e,t,n){return r.createLength(s.inverseGeodeticSolver(v,e,t,n).distance,"meters")}function d(e,t,n){return r.createLength(o.geodesicLength(G(e,t,n),"meters"),"meters")}function L(e,t,n){return i.projectVectorToWGS84ComparableLonLat(e,n,R)&&i.projectVectorToWGS84ComparableLonLat(t,n,W)?r.createLength(s.inverseGeodeticSolver(v,R,W,u.WGS84).distance,"meters"):null}function y(e){return r.createLength(s.geodesicLengths([e],"meters")[0],"meters")}function h(e){return r.createLength(o.geodesicLength(e,"meters"),"meters")}function S(e){const t=[];if(!c.projectPolylineToWGS84ComparableLonLat(e,t))return null;let n=0;for(const r of t){let e=0;for(let t=1;t<r.length;++t)e+=s.inverseGeodeticSolver(v,r[t-1],r[t],u.WGS84).distance;n+=e}return r.createLength(n,"meters")}function G(e,t,r){return{type:"polyline",spatialReference:r,paths:[[[...e],[...t]]]}}const v=new s.InverseGeodeticSolverResult,b=n.create(),j=n.create(),R=n.create(),W=n.create();e.geodesicDistance=f,e.geodesicDistanceBetweenPoints=p,e.geodesicLength=g,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
