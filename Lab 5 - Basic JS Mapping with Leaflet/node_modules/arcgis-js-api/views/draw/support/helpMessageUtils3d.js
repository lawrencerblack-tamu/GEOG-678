/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../../core/unitUtils","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64","../../../support/elevationInfoUtils"],(function(e,t,r,o,n){"use strict";function i(e,o){const i=e?.geometry;if(!e||"mesh"!==i?.type||!o)return;const{renderCoordsHelper:u,elevationProvider:f}=o,{camera:g}=o.state,{extent:d}=i,{center:h,spatialReference:m}=d,p=t.getMetersPerUnitForSR(m),v=t.getMetersPerVerticalUnitForSR(m),M=t.getMetersPerUnitForSR(u.spatialReference),x=d.width*p,S=d.height*v,P=(d.zmax??0)*v,R=P-(d.zmin??0)*v,U=Math.max(x,S,R)/M,{x:b,y}=h,z=h.z??0;r.set(l,b,y,z),u.toRenderCoords(l,m,l);const F=U/g.computeScreenPixelSizeAt(l);if(F>g.width*a)return"meshTooClose";if(F<s)return"meshTooFar";const w=n.getGraphicEffectiveElevationInfo(e),{absoluteZ:C}=n.zValueInAbsoluteHeightMode(b,y,P,m,o,w);return C<(f.getElevation(b,y,z,m,"ground")??0)*v+R*c?"meshUnderground":"mesh"}const s=20,a=1,c=.1,l=o.create();e.getDrawMeshHelpMessage=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
