/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["../../chunks/tslib.es6","../../core/Accessor","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","../../geometry/support/aaBoundingRect","../../widgets/support/widgetUtils","../../widgets/support/jsxFactory"],(function(t,e,o,r,s,i,a,l,p,d){"use strict";let n=class extends e{constructor(t){super(t),this.coordinates=void 0,this.strokeDash=[],this.strokeWidth=1,this.strokeColor=[0,0,0,1],this.strokeDashColor=[255,255,255,1],this.fillColor=[0,0,0,0],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const t=this.strokeColor;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _strokeBackgroundStyle(){const t=this.strokeDashColor;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _fillStyle(){const t=this.fillColor;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _renderCoordinates(){const t=[];if(!this.coordinates)return{coordinates:t,rect:l.negativeInfinity};const e=l.pad(l.expandWithNestedArray(l.create(l.negativeInfinity),this.coordinates),2*this.strokeWidth);e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]+.5),e[3]=Math.ceil(e[3]+.5);for(const o of this.coordinates)t.push([Math.floor(o[0]-e[0])+.5,Math.floor(o[1]-e[1])+.5]);return t.reverse(),{coordinates:t,rect:e}}render(){const{coordinates:t,rect:e}=this._renderCoordinates,o=l.width(e),r=l.height(e);return d.tsx("div",{classes:{"esri-outline-overlay-item":!0},styles:{left:e[0]+"px",top:e[1]+"px",width:o+"px",height:r+"px",visibility:this.visible?"visible":"hidden"}},d.tsx("svg",{height:r,styles:{display:"block"},width:o},d.tsx("polygon",{fill:this._fillStyle,points:t.map((([t,e])=>`${t},${e}`)).join(" "),stroke:this._strokeBackgroundStyle,"stroke-width":this.strokeWidth}),d.tsx("polygon",{fill:"transparent",points:t.map((([t,e])=>`${t},${e}`)).join(" "),stroke:this._strokeStyle,"stroke-dasharray":this.strokeDash.length?this.strokeDash.join(" "):void 0,"stroke-width":this.strokeWidth})))}renderCanvas(){}};t.__decorate([o.property()],n.prototype,"coordinates",void 0),t.__decorate([o.property()],n.prototype,"strokeDash",void 0),t.__decorate([o.property()],n.prototype,"strokeWidth",void 0),t.__decorate([o.property()],n.prototype,"strokeColor",void 0),t.__decorate([o.property()],n.prototype,"strokeDashColor",void 0),t.__decorate([o.property()],n.prototype,"fillColor",void 0),t.__decorate([o.property()],n.prototype,"visible",void 0),t.__decorate([o.property()],n.prototype,"isDecoration",void 0),t.__decorate([o.property({readOnly:!0})],n.prototype,"_strokeStyle",null),t.__decorate([o.property({readOnly:!0})],n.prototype,"_strokeBackgroundStyle",null),t.__decorate([o.property({readOnly:!0})],n.prototype,"_fillStyle",null),t.__decorate([o.property({readOnly:!0})],n.prototype,"_renderCoordinates",null),n=t.__decorate([a.subclass("esri.views.overlay.OutlineOverlayItem")],n);return n}));
