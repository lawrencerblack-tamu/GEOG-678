/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["require","exports","../../assets"],(function(e,t,l){"use strict";let a;function r(){return!!t._lclib}function i(){return a||(a=new Promise(((t,l)=>e(["../../chunks/lclayout"],t,l))).then((e=>e.lclayout)).then((({default:e})=>e({locateFile:e=>l.getAssetUrl(`esri/libs/linkchartlayout/${e}`)}))).then((e=>{o(e)})),a)}function o(e){t._lclib=e}var n,c;function u(e,l,a,r,i,o){const n=a.length,c=i.length,u=Float64Array.BYTES_PER_ELEMENT,s=Uint32Array.BYTES_PER_ELEMENT,y=Uint8Array.BYTES_PER_ELEMENT,b=16,L=b-1+n*(y+2*u)+c*(2*s),_=t._lclib._malloc(L);try{const y=_+b-_%b,L=y+n*u,d=L+n*u,p=d+c*s,E=p+c*s,C=()=>[t._lclib.HEAPF64.subarray(y>>3,(y>>3)+n),t._lclib.HEAPF64.subarray(L>>3,(L>>3)+n),t._lclib.HEAPU32.subarray(d>>2,(d>>2)+c),t._lclib.HEAPU32.subarray(p>>2,(p>>2)+c),t._lclib.HEAPU8.subarray(E,E+n)],[f,A,g,m,P]=C();f.set(a),A.set(r),g.set(i),m.set(o),P.set(l);let R=e(n,E,y,L,c,d,p),T=null;if(R){const e=t._lclib.getLayoutLinksTypes(),l=t._lclib.getLayoutLinksVerticesEndIndices(),a=t._lclib.getLayoutLinksVertices(),r=t._lclib.countLayoutLinksVertices();!c||e&&l?r&&!a?R=!1:T={types:new Uint8Array(t._lclib.HEAPU8.subarray(e,e+c)),vertexEndIndex:new Uint32Array(t._lclib.HEAPU32.subarray(l>>2,(l>>2)+c)),vertices:new Float64Array(t._lclib.HEAPF64.subarray(a>>3,(a>>3)+2*r))}:R=!1}const[h,v,H,F,S]=C();return a.set(h),r.set(v),i.set(H),o.set(F),l.set(S),{success:R,links:T}}finally{t._lclib._free(_),t._lclib.cleanupLayout()}}t._lclib=null,t.NodeFlag=void 0,(n=t.NodeFlag||(t.NodeFlag={}))[n.None=0]="None",n[n.IsMovable=1]="IsMovable",n[n.IsGeographic=2]="IsGeographic",n[n.IsRoot=4]="IsRoot",t.LinkType=void 0,(c=t.LinkType||(t.LinkType={}))[c.Regular=0]="Regular",c[c.Orthogonal=1]="Orthogonal",c[c.Curved=2]="Curved",c[c.Recursive=3]="Recursive";const s=2,y=1,b=-1;var L,_;function d(e,l,a,r,i,o,n,c,u,s,y,b,L,_,d){const p=l.length,E=Float64Array.BYTES_PER_ELEMENT,C=Uint32Array.BYTES_PER_ELEMENT,f=16,A=f-1+e*(8*E)+p*(3*C),g=t._lclib._malloc(A);try{const A=g+f-g%f,m=A+e*E,P=m+e*E,R=P+e*E,T=R+e*E,h=T+e*E,v=h+e*E,H=v+e*E,F=H+e*E,S=F+p*C,U=S+p*C,M=()=>[t._lclib.HEAPF64.subarray(A>>3,(A>>3)+e),t._lclib.HEAPF64.subarray(m>>3,(m>>3)+e),t._lclib.HEAPF64.subarray(P>>3,(P>>3)+e),t._lclib.HEAPF64.subarray(R>>3,(R>>3)+e),t._lclib.HEAPF64.subarray(T>>3,(T>>3)+e),t._lclib.HEAPF64.subarray(h>>3,(h>>3)+e),t._lclib.HEAPF64.subarray(v>>3,(v>>3)+e),t._lclib.HEAPF64.subarray(H>>3,(H>>3)+e),t._lclib.HEAPU32.subarray(F>>2,(F>>2)+p),t._lclib.HEAPU32.subarray(S>>2,(S>>2)+p),t._lclib.HEAPU32.subarray(U>>2,(U>>2)+p)],[B,I,N,k,w,D,Y,z,G,x,O]=M();B.set(c),I.set(u),N.set(s),k.set(y),w.set(b),D.set(L),Y.set(_),z.set(d),G.set(l),x.set(a),O.set(r);const V=t._lclib.computeCentrality(e,p,F,S,U,i,o,n,A,m,P,R,T,h,v,H),[j,q,$,J,K,Q,W,X,Z,ee,te]=M();return c.set(j),u.set(q),s.set($),y.set(J),b.set(K),L.set(Q),_.set(W),d.set(X),l.set(Z),a.set(ee),r.set(te),V}finally{t._lclib._free(g)}}t.LCForceDirectedLayout=void 0,function(e){function l(){return t._lclib.getMinIdealEdgeLength()}function a(e,l,a,r,i,o=s,n=y,c=b){return u(((e,l,a,r,i,u,s)=>t._lclib.applyForceDirectedLayout(e,l,a,r,i,u,s,o,n,c)),e,l,a,r,i)}e.getMinIdealEdgeLength=l,e.apply=a}(t.LCForceDirectedLayout||(t.LCForceDirectedLayout={})),t.LCCommunityLayout=void 0,function(e){function l(e,l,a,r,i,o=s,n=y,c=b){return u(((e,l,a,r,i,u,s)=>t._lclib.applyCommunityLayout(e,l,a,r,i,u,s,o,n,c)),e,l,a,r,i)}e.apply=l}(t.LCCommunityLayout||(t.LCCommunityLayout={})),t.LCSimpleLayout=void 0,function(e){function l(e,l,a,r,i){return u(t._lclib.applySimpleLayout,e,l,a,r,i)}e.apply=l}(t.LCSimpleLayout||(t.LCSimpleLayout={})),t.LCHierarchicalLayout=void 0,function(e){function l(e,l,a,r,i){return u(t._lclib.applyHierarchicalLayout,e,l,a,r,i)}e.apply=l}(t.LCHierarchicalLayout||(t.LCHierarchicalLayout={})),t.LCRadialTreeLayout=void 0,function(e){function l(e,l,a,r,i){return u(t._lclib.applyRadialTreeLayout,e,l,a,r,i)}e.apply=l}(t.LCRadialTreeLayout||(t.LCRadialTreeLayout={})),t.LCSmartTreeLayout=void 0,function(e){function l(e,l,a,r,i){return u(t._lclib.applySmartTreeLayout,e,l,a,r,i)}e.apply=l}(t.LCSmartTreeLayout||(t.LCSmartTreeLayout={})),t.RelationshipInterpretation=void 0,(L=t.RelationshipInterpretation||(t.RelationshipInterpretation={}))[L.Undirected=0]="Undirected",L[L.Directed=1]="Directed",L[L.Reversed=2]="Reversed",t.CentralityMode=void 0,(_=t.CentralityMode||(t.CentralityMode={}))[_.ByCC_Raw=0]="ByCC_Raw",_[_.ByCC_NormalizeGlobally=1]="ByCC_NormalizeGlobally",_[_.ByCC_NormalizeByCC=2]="ByCC_NormalizeByCC",t.computeCentrality=d,t.defaultBudgetTheoreticalSeconds=s,t.defaultIdealEdgeLengthMultiplier=y,t.defaultRepulsionRadiusMultiplier=b,t.isLoaded=r,t.load=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
