/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
define(["exports","../../core/events","../../core/promiseUtils","../../core/reactiveUtils"],(function(e,t,o,n){"use strict";async function i(e,t,i){const r=a(e);if(!r?.activeTooltipInfo?.editableFields?.find((e=>e.name===t)))return;e.tooltipOptions.forceEnabled=!0;const{handle:l,promise:s}=c(r.tooltip);try{if(await r.tooltip.enterInputMode(t),o.isAborted(i))return;if(await Promise.race([n.whenOnce((()=>r.destroyed||"feedback"===r.tooltip.content?.mode),i),s]),o.isAborted(i))return;e.tooltipOptions.forceEnabled=!1}finally{l.remove()}}const r=new Set(["calcite-input","calcite-button","calcite-action","calcite-dropdown","calcite-dropdown-item"]);function c(e){const n=o.createResolver(),i=t.on(e.contentContainer,"focusout",(({relatedTarget:e})=>{const t=e instanceof HTMLElement?e.tagName.toLowerCase():null;t&&r.has(t)||n.resolve()}));return{promise:n.promise,handle:i}}function a(e){const{activeComponent:t}=e;switch(t?.type){case"draw-2d":case"draw-3d":return t;default:return null}}e.showTooltipAndFocusField=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
